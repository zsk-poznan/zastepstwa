(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5199],{5841:function(x,_,t){(function(e,s){x.exports=s(t(32735))})(this,function(e){return function(s){var m={};function u(o){if(m[o])return m[o].exports;var i=m[o]={i:o,l:!1,exports:{}};return s[o].call(i.exports,i,i.exports,u),i.l=!0,i.exports}return u.m=s,u.c=m,u.d=function(o,i,v){u.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:v})},u.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},u.t=function(o,i){if(1&i&&(o=u(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var y in o)u.d(v,y,function(A){return o[A]}.bind(null,y));return v},u.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return u.d(i,"a",i),i},u.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},u.p="",u(u.s=67)}({0:function(s,m){s.exports=e},67:function(s,m,u){"use strict";u.r(m);var o=u(0);function i(){return(i=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var A=arguments[y];for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(v[D]=A[D])}return v}).apply(this,arguments)}m.default=function(v){return o.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v),o.createElement("path",{d:"M0 2.8A.8.8 0 01.8 2h22.4a.8.8 0 01.8.8v2.71a1 1 0 01-1 1H1a1 1 0 01-1-1V2.8z",fill:"#32324D"}),o.createElement("path",{d:"M1.922 7.991C.197 6.675 0 6.252 0 5.289h23.953c.305 1.363-1.594 2.506-2.297 3.125-1.953 1.363-6.253 4.36-7.828 5.45-1.575 1.09-3.031.455-3.562 0-2.063-1.41-6.62-4.557-8.344-5.873zM22.8 18H1.2c-.663 0-1.2.471-1.2 1.053v1.894C0 21.529.537 22 1.2 22h21.6c.663 0 1.2-.471 1.2-1.053v-1.894c0-.582-.537-1.053-1.2-1.053z",fill:"#32324D"}),o.createElement("path",{d:"M0 9.555v10.972h24V9.554c-2.633 1.95-8.367 6.113-9.96 7.166-1.595 1.052-3.352.438-4.032 0L0 9.555z",fill:"#32324D"}))}}})})},47664:(x,_,t)=>{"use strict";t.d(_,{Z:()=>s});const s={firstname:"",lastname:"",email:"",roles:[]}},11643:(x,_,t)=>{"use strict";t.d(_,{Z:()=>s});const s=[]},79005:(x,_,t)=>{"use strict";t.r(_),t.d(_,{default:()=>mt});var e=t(32735),s=t(10938),m=t(79613),u=t(11856),o=t(44526),i=t(16540),v=t(29270),y=t(5841),A=t.n(y),D=t(5141),O=t(5636),g=t(84968),C=t(60216),f=t.n(C),ae=t(35980),I=t(9808),ne=t(20763),z=t(19192),R=t(95602),j=t(53214),w=t(95717),N=t.n(w),Q=t(76470),le=t.n(Q),H=t(81430),ie=Object.defineProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,X=(n,r,a)=>r in n?ie(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a,re=(n,r)=>{for(var a in r||(r={}))V.call(r,a)&&X(n,a,r[a]);if(U)for(var a of U(r))S.call(r,a)&&X(n,a,r[a]);return n},ge=(n,r)=>{var a={};for(var l in n)V.call(n,l)&&r.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&U)for(var l of U(n))r.indexOf(l)<0&&S.call(n,l)&&(a[l]=n[l]);return a};const $=({canDelete:n,headers:r,entriesToDelete:a,onClickDelete:l,onSelectRow:d,withMainAction:P,withBulkActions:M,rows:h})=>{const{push:c,location:{pathname:E}}=(0,D.useHistory)(),{formatMessage:T}=(0,O.useIntl)();return e.createElement(j.Tbody,null,h.map(p=>{const se=a.findIndex(F=>F===p.id)!==-1;return e.createElement(j.Tr,re({key:p.id},(0,s.onRowClick)({fn:()=>c(`${E}/${p.id}`),condition:M})),P&&e.createElement(j.Td,re({},s.stopPropagation),e.createElement(ae.BaseCheckbox,{"aria-label":T({id:"app.component.table.select.one-entry",defaultMessage:"Select {target}"},{target:(0,H.Pp)(p.firstname,p.lastname)}),checked:se,onChange:()=>{d({name:p.id,value:!se})}})),r.map(F=>{var W=F,{key:oe,cellFormatter:Y,name:k}=W,K=ge(W,["key","cellFormatter","name"]);return e.createElement(j.Td,{key:oe},typeof Y=="function"?Y(p,re({key:oe,name:k},K)):e.createElement(R.Typography,{textColor:"neutral800"},p[k]||"-"))}),M&&e.createElement(j.Td,null,e.createElement(z.Flex,{justifyContent:"end"},e.createElement(ne.IconButton,{onClick:()=>c(`${E}/${p.id}`),label:T({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:(0,H.Pp)(p.firstname,p.lastname)}),noBorder:!0,icon:e.createElement(N(),null)}),n&&e.createElement(I.Box,re({paddingLeft:1},s.stopPropagation),e.createElement(ne.IconButton,{onClick:()=>l(p.id),label:T({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:(0,H.Pp)(p.firstname,p.lastname)}),noBorder:!0,icon:e.createElement(le(),null)})))))}))};$.defaultProps={canDelete:!1,entriesToDelete:[],onClickDelete:()=>{},onSelectRow:()=>{},rows:[],withBulkActions:!1,withMainAction:!1},$.propTypes={canDelete:f().bool,entriesToDelete:f().array,headers:f().array.isRequired,onClickDelete:f().func,onSelectRow:f().func,rows:f().array,withBulkActions:f().bool,withMainAction:f().bool};const Ze=$;var je=t(23899),we=t.n(je);const _e=({displayedFilters:n})=>{const[r,a]=(0,e.useState)(!1),{formatMessage:l}=(0,O.useIntl)(),d=(0,e.useRef)(),P=()=>{a(M=>!M)};return e.createElement(e.Fragment,null,e.createElement(I.Box,{paddingTop:1,paddingBottom:1},e.createElement(o.Button,{variant:"tertiary",ref:d,startIcon:e.createElement(we(),null),onClick:P,size:"S"},l({id:"app.utils.filters",defaultMessage:"Filters"})),r&&e.createElement(s.FilterPopoverURLQuery,{displayedFilters:n,isVisible:r,onToggle:P,source:d})),e.createElement(s.FilterListURLQuery,{filtersSchema:n}))};_e.propTypes={displayedFilters:f().arrayOf(f().shape({name:f().string.isRequired,metadatas:f().shape({label:f().string}),fieldSchema:f().shape({type:f().string})})).isRequired};const Ne=_e;var ve=t(67950),$e=t(93587),me=t.n($e),fe=t(4122),ue=t(78330),De=t(71657),Te=t(90662),ze=t(83281),ye=t(81999),Qe=t(58535);const He=[[{intlLabel:{id:"Auth.form.firstname.label",defaultMessage:"First name"},name:"firstname",placeholder:{id:"Auth.form.firstname.placeholder",defaultMessage:"e.g. Kai"},type:"text",size:{col:6,xs:12},required:!0},{intlLabel:{id:"Auth.form.lastname.label",defaultMessage:"Last name"},name:"lastname",placeholder:{id:"Auth.form.lastname.placeholder",defaultMessage:"e.g. Doe"},type:"text",size:{col:6,xs:12}}],[{intlLabel:{id:"Auth.form.email.label",defaultMessage:"Email"},name:"email",placeholder:{id:"Auth.form.email.placeholder",defaultMessage:"e.g. kai.doe@strapi.io"},type:"email",size:{col:6,xs:12},required:!0}]];var ce=t(5173);const Ve=ce.Ry().shape({firstname:ce.Z_().required(s.translatedErrors.required),lastname:ce.Z_(),email:ce.Z_().email(s.translatedErrors.email).required(s.translatedErrors.required),roles:ce.IX().min(1,s.translatedErrors.required).required(s.translatedErrors.required)}),Xe={create:{buttonSubmitLabel:{id:"app.containers.Users.ModalForm.footer.button-success",defaultMessage:"Invite user"},isDisabled:!1,next:"magic-link"},"magic-link":{buttonSubmitLabel:{id:"global.finish",defaultMessage:"Finish"},isDisabled:!0,next:null}};var Ae=void 0;function Ge(n,r){var a=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=Je(n))||r&&n&&typeof n.length=="number"){a&&(n=a);var l=0,d=function(){};return{s:d,n:function(){return l>=n.length?{done:!0}:{done:!1,value:n[l++]}},e:function(E){throw E},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,M=!1,h;return{s:function(){a=a.call(n)},n:function(){var E=a.next();return P=E.done,E},e:function(E){M=!0,h=E},f:function(){try{!P&&a.return!=null&&a.return()}finally{if(M)throw h}}}}function Je(n,r){if(!!n){if(typeof n=="string")return Ce(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ce(n,r)}}function Ce(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=n[a];return l}var Ye=Object.defineProperty,ke=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Se=function(r,a,l){return a in r?Ye(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l},pe=function(r,a){for(var l in a||(a={}))et.call(a,l)&&Se(r,l,a[l]);if(Le){var d=Ge(Le(a)),P;try{for(d.s();!(P=d.n()).done;){var l=P.value;tt.call(a,l)&&Se(r,l,a[l])}}catch(M){d.e(M)}finally{d.f()}}return r},be=function(r,a){return ke(r,qe(a))},Be=function(r,a,l){return new Promise(function(d,P){var M=function(T){try{c(l.next(T))}catch(p){P(p)}},h=function(T){try{c(l.throw(T))}catch(p){P(p)}},c=function(T){return T.done?d(T.value):Promise.resolve(T.value).then(M,h)};c((l=l.apply(r,a)).next())})},at=function(){return window&&window.strapi&&window.strapi.isEE?t(2793).Z:t(47664).Z}(),nt=function(){return window&&window.strapi&&window.strapi.isEE?t(70008).Z:t(11643).Z}(),rt=function(){return window&&window.strapi&&window.strapi.isEE?t(80515).Z:t(83396).Z}(),Ie=function(r){var a=r.queryName,l=r.onToggle,d=(0,e.useState)("create"),P=(0,ve.Z)(d,2),M=P[0],h=P[1],c=(0,e.useState)(!1),E=(0,ve.Z)(c,2),T=E[0],p=E[1],se=(0,e.useState)(null),F=(0,ve.Z)(se,2),W=F[0],oe=F[1],Y=(0,g.useQueryClient)(),k=(0,O.useIntl)(),K=k.formatMessage,Pe=(0,s.useNotification)(),b=(0,s.useOverlayBlocker)(),Ee=b.lockApp,de=b.unlockApp,ft=(0,g.useMutation)(function(Z){return ye.be.post("/admin/users",Z)},{onSuccess:function(G){return Be(Ae,[G],me().mark(function q(ee){var J;return me().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return J=ee.data,oe(J.data.registrationToken),te.next=4,Y.invalidateQueries(a);case 4:Et(),p(!1);case 6:case"end":return te.stop()}},q)}))},onError:function(G){throw p(!1),Pe({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}}),G},onSettled:function(){de()}}),Fe=K({id:"Settings.permissions.users.create",defaultMessage:"Invite new user"}),pt=function(G,q){return Be(Ae,[G,q],me().mark(function ee(J,L){var te,xe;return me().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return te=L.setErrors,Ee(),p(!0),B.prev=3,B.next=6,ft.mutateAsync(J);case 6:B.next=12;break;case 8:B.prev=8,B.t0=B.catch(3),de(),((xe=B.t0==null?void 0:B.t0.response)==null?void 0:xe.data.message)==="Email already taken"&&te({email:B.t0.response.data.message});case 12:case"end":return B.stop()}},ee,null,[[3,8]])}))},Et=function(){Ke?h(Ke):l()},he=Xe[M],We=he.buttonSubmitLabel,Oe=he.isDisabled,Ke=he.next,gt=M==="create"?e.createElement(o.Button,{type:"submit",loading:T},K(We)):e.createElement(o.Button,{type:"button",loading:T,onClick:l},K(We));return e.createElement(fe.ModalLayout,{onClose:l,labelledBy:"title"},e.createElement(fe.ModalHeader,null,e.createElement(De.Breadcrumbs,{label:Fe},e.createElement(De.Crumb,null,Fe))),e.createElement(ze.Formik,{initialValues:at,onSubmit:pt,validationSchema:Ve,validateOnChange:!1},function(Z){var G=Z.errors,q=Z.handleChange,ee=Z.values;return e.createElement(s.Form,null,e.createElement(fe.ModalBody,null,e.createElement(Te.Stack,{spacing:6},M!=="create"&&e.createElement(rt,{registrationToken:W}),e.createElement(I.Box,null,e.createElement(R.Typography,{variant:"beta",as:"h2"},K({id:"app.components.Users.ModalCreateBody.block-title.details",defaultMessage:"User details"})),e.createElement(I.Box,{paddingTop:4},e.createElement(Te.Stack,{spacing:1},e.createElement(ue.Grid,{gap:5},He.map(function(J){return J.map(function(L){return e.createElement(ue.GridItem,pe({key:L.name},L.size),e.createElement(s.GenericInput,be(pe({},L),{disabled:Oe,error:G[L.name],onChange:q,value:ee[L.name]})))})}))))),e.createElement(I.Box,null,e.createElement(R.Typography,{variant:"beta",as:"h2"},K({id:"global.roles",defaultMessage:"User's role"})),e.createElement(I.Box,{paddingTop:4},e.createElement(ue.Grid,{gap:5},e.createElement(ue.GridItem,{col:6,xs:12},e.createElement(Qe.Z,{disabled:Oe,error:G.roles,onChange:q,value:ee.roles})),nt.map(function(J){return J.map(function(L){return e.createElement(ue.GridItem,pe({key:L.name},L.size),e.createElement(s.GenericInput,be(pe({},L),{disabled:Oe,onChange:q,value:ee[L.name]})))})})))))),e.createElement(fe.ModalFooter,{startActions:e.createElement(o.Button,{variant:"tertiary",onClick:l,type:"button"},K({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:gt}))}))};Ie.propTypes={onToggle:f().func.isRequired,queryName:f().array.isRequired};const st=Ie,Me=({pagination:n})=>e.createElement(I.Box,{paddingTop:4},e.createElement(z.Flex,{alignItems:"flex-end",justifyContent:"space-between"},e.createElement(s.PageSizeURLQuery,null),e.createElement(s.PaginationURLQuery,{pagination:n})));Me.defaultProps={pagination:{pageCount:0,pageSize:10,total:0}},Me.propTypes={pagination:f().shape({page:f().number,pageCount:f().number,pageSize:f().number,total:f().number})};const ot=Me;var Re=(n,r,a)=>new Promise((l,d)=>{var P=c=>{try{h(a.next(c))}catch(E){d(E)}},M=c=>{try{h(a.throw(c))}catch(E){d(E)}},h=c=>c.done?l(c.value):Promise.resolve(c.value).then(P,M);h((a=a.apply(n,r)).next())});const lt=(n,r)=>Re(void 0,null,function*(){const{data:{data:a}}=yield ye.be.get(`/admin/users${n}`);return r(),a}),it=n=>Re(void 0,null,function*(){yield ye.be.post("/admin/users/batch-delete",{ids:n})}),ut=[{name:"firstname",metadatas:{label:"Firstname"},fieldSchema:{type:"string"}},{name:"lastname",metadatas:{label:"Lastname"},fieldSchema:{type:"string"}},{name:"email",metadatas:{label:"Email"},fieldSchema:{type:"email"}},{name:"username",metadatas:{label:"Username"},fieldSchema:{type:"string"}},{name:"isActive",metadatas:{label:"Active user"},fieldSchema:{type:"boolean"}}],Ue=[{name:"firstname",key:"firstname",metadatas:{label:"Firstname",sortable:!0}},{name:"lastname",key:"lastname",metadatas:{label:"Lastname",sortable:!0}},{key:"email",name:"email",metadatas:{label:"Email",sortable:!0}},{key:"roles",name:"roles",metadatas:{label:"Roles",sortable:!1},cellFormatter:({roles:n})=>e.createElement(R.Typography,{textColor:"neutral800"},n.map(r=>r.name).join(`,
`))},{key:"username",name:"username",metadatas:{label:"Username",sortable:!0}},{key:"isActive",name:"isActive",metadatas:{label:"User status",sortable:!1},cellFormatter:({isActive:n})=>e.createElement(z.Flex,null,e.createElement(s.Status,{isActive:n,variant:n?"success":"danger"}),e.createElement(R.Typography,{textColor:"neutral800"},n?"Active":"Inactive"))}];var ct=(n,r,a)=>new Promise((l,d)=>{var P=c=>{try{h(a.next(c))}catch(E){d(E)}},M=c=>{try{h(a.throw(c))}catch(E){d(E)}},h=c=>c.done?l(c.value):Promise.resolve(c.value).then(P,M);h((a=a.apply(n,r)).next())});const dt=()=>{const[n,r]=(0,e.useState)(!1),{allowedActions:{canCreate:a,canDelete:l,canRead:d}}=(0,s.useRBAC)(m.Z.settings.users),P=(0,g.useQueryClient)(),M=(0,s.useNotification)(),{formatMessage:h}=(0,O.useIntl)(),{search:c}=(0,D.useLocation)();(0,s.useFocusWhenNavigate)();const{notifyStatus:E}=(0,v.useNotifyAT)(),T=["users",c],p=h({id:"global.users",defaultMessage:"Users"}),se=()=>{E(h({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:p}))},{status:F,data:W,isFetching:oe}=(0,g.useQuery)(T,()=>lt(c,se),{enabled:d,keepPreviousData:!0,retry:!1,staleTime:1e3*20,onError:()=>{M({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),Y=()=>{r(b=>!b)},k=(0,g.useMutation)(b=>it(b),{onSuccess:()=>ct(void 0,null,function*(){yield P.invalidateQueries(T)}),onError:b=>{var Ee,de;(de=(Ee=b==null?void 0:b.response)==null?void 0:Ee.data)!=null&&de.data?M({type:"warning",message:b.response.data.data}):M({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),K=F!=="success"&&F!=="error"||F==="success"&&oe,Pe=a?e.createElement(o.Button,{"data-testid":"create-user-button",onClick:Y,startIcon:e.createElement(A(),null),size:"L"},h({id:"Settings.permissions.users.create",defaultMessage:"Invite new user"})):void 0;return e.createElement(i.Main,{"aria-busy":K},e.createElement(s.SettingsPageTitle,{name:"Users"}),e.createElement(u.HeaderLayout,{primaryAction:Pe,title:p,subtitle:h({id:"Settings.permissions.users.listview.header.subtitle",defaultMessage:"All the users who have access to the Strapi admin panel"})}),d&&e.createElement(u.ActionLayout,{startActions:e.createElement(e.Fragment,null,e.createElement(s.SearchURLQuery,{label:h({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:p})}),e.createElement(Ne,{displayedFilters:ut}))}),e.createElement(u.ContentLayout,{canRead:d},!d&&e.createElement(s.NoPermissions,null),F==="error"&&e.createElement("div",null,"TODO: An error occurred"),d&&e.createElement(e.Fragment,null,e.createElement(s.DynamicTable,{contentType:"Users",isLoading:K,onConfirmDeleteAll:k.mutateAsync,onConfirmDelete:b=>k.mutateAsync([b]),headers:Ue,rows:W==null?void 0:W.results,withBulkActions:!0,withMainAction:l},e.createElement(Ze,{canDelete:l,headers:Ue,rows:(W==null?void 0:W.results)||[],withBulkActions:!0,withMainAction:l})),e.createElement(ot,{pagination:W==null?void 0:W.pagination}))),n&&e.createElement(st,{onToggle:Y,queryName:T}))},mt=()=>e.createElement(s.CheckPagePermissions,{permissions:m.Z.settings.users.main},e.createElement(dt,null))},98924:(x,_,t)=>{"use strict";t.d(_,{Z:()=>I});var e=t(32735),s=t(60216),m=t.n(s),u=t(20763),o=t.n(u),i=t(10938),v=t.n(i),y=t(68192),A=t.n(y),D=t(59087),O=t.n(D),g=t(5636),C=t.n(g);const f=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},e.createElement("text",{transform:"translate(-23 -9)",fill:"#4B515A",fillRule:"evenodd",fontSize:"32",fontFamily:"AppleColorEmoji, Apple Color Emoji"},e.createElement("tspan",{x:"23",y:"36"},"\u2709\uFE0F"))),ae=({children:ne,target:z})=>{const R=(0,i.useNotification)(),{formatMessage:j}=(0,g.useIntl)(),w=()=>{R({type:"info",message:{id:"notification.link-copied"}})},N=j({id:"app.component.CopyToClipboard.label",defaultMessage:"Copy to clipboard"});return e.createElement(i.ContentBox,{endAction:e.createElement(D.CopyToClipboard,{onCopy:w,text:z},e.createElement(u.IconButton,{label:N,noBorder:!0,icon:e.createElement(A(),null)})),title:z,titleEllipsis:!0,subtitle:ne,icon:e.createElement(f,null),iconBackground:"neutral100"})};ae.propTypes={children:m().oneOfType([m().element,m().string]).isRequired,target:m().string.isRequired};const I=ae},83396:(x,_,t)=>{"use strict";t.d(_,{Z:()=>A});var e=t(32735),s=t(5636),m=t.n(s),u=t(60216),o=t.n(u),i=t(6630),v=t(98924);const y=({registrationToken:D})=>{const{formatMessage:O}=(0,s.useIntl)(),g=`${window.location.origin}${i.Z}auth/register?registrationToken=${D}`;return e.createElement(v.Z,{target:g},O({id:"app.components.Users.MagicLink.connect",defaultMessage:"Copy and share this link to give access to this user"}))};y.defaultProps={registrationToken:""},y.propTypes={registrationToken:o().string};const A=y},58535:(x,_,t)=>{"use strict";t.d(_,{Z:()=>j});var e=t(32735),s=t(60216),m=t.n(s),u=t(5636),o=t.n(u),i=t(25716),v=t.n(i),y=t(84968),A=t.n(y),D=t(19615),O=t(103),g=t.n(O),C=t(81999),f=(w,N,Q)=>new Promise((le,H)=>{var ie=S=>{try{V(Q.next(S))}catch(X){H(X)}},U=S=>{try{V(Q.throw(S))}catch(X){H(X)}},V=S=>S.done?le(S.value):Promise.resolve(S.value).then(ie,U);V((Q=Q.apply(w,N)).next())});const ae=D.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,I=D.default.div`
  animation: ${ae} 2s infinite linear;
`,ne=()=>e.createElement(I,null,e.createElement(g(),null)),z=()=>f(void 0,null,function*(){const{data:w}=yield C.be.get("/admin/roles");return w.data}),R=({disabled:w,error:N,onChange:Q,value:le})=>{const{status:H,data:ie}=(0,y.useQuery)(["roles"],z,{staleTime:5e4}),{formatMessage:U}=(0,u.useIntl)(),V=N?U({id:N,defaultMessage:N}):"",S=U({id:"app.components.Users.ModalCreateBody.block-title.roles",defaultMessage:"User's roles"}),X=U({id:"app.components.Users.ModalCreateBody.block-title.roles.description",defaultMessage:"A user can have one or several roles"}),re=U({id:"app.components.Select.placeholder",defaultMessage:"Select"}),ge=H==="loading"?e.createElement(ne,null):void 0;return e.createElement(i.Select,{id:"roles",disabled:w,error:V,hint:X,label:S,name:"roles",onChange:$=>{Q({target:{name:"roles",value:$}})},placeholder:re,multi:!0,startIcon:ge,value:le,withTags:!0,required:!0},(ie||[]).map($=>e.createElement(i.Option,{key:$.id,value:$.id},$.name)))};R.defaultProps={disabled:!1,error:void 0},R.propTypes={disabled:m().bool,error:m().string,onChange:m().func.isRequired,value:m().array.isRequired};const j=R},2793:(x,_,t)=>{"use strict";t.d(_,{Z:()=>D});var e=t(47664),s=Object.defineProperty,m=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(O,g,C)=>g in O?s(O,g,{enumerable:!0,configurable:!0,writable:!0,value:C}):O[g]=C,v=(O,g)=>{for(var C in g||(g={}))u.call(g,C)&&i(O,C,g[C]);if(m)for(var C of m(g))o.call(g,C)&&i(O,C,g[C]);return O};const y=strapi.features.isEnabled(strapi.features.SSO)?{useSSORegistration:!0}:{},D=v(v({},e.Z),y)},70008:(x,_,t)=>{"use strict";t.d(_,{Z:()=>s});const s=strapi.features.isEnabled(strapi.features.SSO)?[[{intlLabel:{id:"Settings.permissions.users.form.sso",defaultMessage:"Connect with SSO"},hint:{id:"Settings.permissions.users.form.sso.description",defaultMessage:"When enabled (ON), users can login via SSO"},name:"useSSORegistration",type:"bool",size:{col:6,xs:12}}]]:[]},80515:(x,_,t)=>{"use strict";t.d(_,{Z:()=>A});var e=t(32735),s=t(5636),m=t.n(s),u=t(60216),o=t.n(u),i=t(6630),v=t(98924);const y=({registrationToken:D})=>{const{formatMessage:O}=(0,s.useIntl)();return D?e.createElement(v.Z,{target:`${window.location.origin}${i.Z}auth/register?registrationToken=${D}`},O({id:"app.components.Users.MagicLink.connect",defaultMessage:"Copy and share this link to give access to this user"})):e.createElement(v.Z,{target:`${window.location.origin}${i.Z}auth/login`},O({id:"app.components.Users.MagicLink.connect.sso",defaultMessage:"Send this link to the user, the first login can be made via a SSO provider."}))};y.defaultProps={registrationToken:""},y.propTypes={registrationToken:o().string};const A=y}}]);
