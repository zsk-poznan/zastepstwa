(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5516],{28992:function(x,b,a){(function(e,p){x.exports=p(a(32735))})(this,function(e){return function(p){var g={};function l(t){if(g[t])return g[t].exports;var n=g[t]={i:t,l:!1,exports:{}};return p[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=p,l.c=g,l.d=function(t,n,c){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:c})},l.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n||4&n&&typeof t=="object"&&t&&t.__esModule)return t;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&n&&typeof t!="string")for(var u in t)l.d(c,u,function(f){return t[f]}.bind(null,u));return c},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s=86)}({0:function(p,g){p.exports=e},86:function(p,g,l){"use strict";l.r(g);var t=l(0);function n(){return(n=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])}return c}).apply(this,arguments)}g.default=function(c){return t.createElement("svg",n({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c),t.createElement("path",{d:"M0 4a4 4 0 014-4h24a4 4 0 014 4v24a4 4 0 01-4 4H4a4 4 0 01-4-4V4z",fill:"#AC73E6"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0z",fill:"#fff"}))}}})})},75152:function(x,b,a){(function(e,p){x.exports=p(a(32735))})(this,function(e){return function(p){var g={};function l(t){if(g[t])return g[t].exports;var n=g[t]={i:t,l:!1,exports:{}};return p[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=p,l.c=g,l.d=function(t,n,c){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:c})},l.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n||4&n&&typeof t=="object"&&t&&t.__esModule)return t;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&n&&typeof t!="string")for(var u in t)l.d(c,u,function(f){return t[f]}.bind(null,u));return c},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s=187)}({0:function(p,g){p.exports=e},187:function(p,g,l){"use strict";l.r(g);var t=l(0);function n(){return(n=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])}return c}).apply(this,arguments)}g.default=function(c){return t.createElement("svg",n({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 01-.14-.343L11.858.058a.2.2 0 01.282 0l9.513 9.4a.2.2 0 01-.14.343H13.57v8.47zM2.2 21.095a.2.2 0 00-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 00.2-.2v-2.424a.2.2 0 00-.2-.2H2.2z",fill:"#212134"}))}}})})},11652:(x,b,a)=>{"use strict";a.d(b,{Z:()=>c});var e=a(84968),p=a(10938),g=a(81999),l=(u,f,h)=>new Promise((v,C)=>{var k=s=>{try{I(h.next(s))}catch(O){C(O)}},S=s=>{try{I(h.throw(s))}catch(O){C(O)}},I=s=>s.done?v(s.value):Promise.resolve(s.value).then(k,S);I((h=h.apply(u,f)).next())});const t=()=>l(void 0,null,function*(){const{data:u}=yield g.be.get("/admin/plugins");return u}),c=u=>{const f=(0,p.useNotification)();return(0,e.useQuery)("list-installed-plugins",()=>t(),{onSuccess:()=>{u&&u()},onError:()=>{f({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})}},19214:(x,b,a)=>{"use strict";a.r(b),a.d(b,{MarketPlacePage:()=>$,default:()=>Fe});var e=a(32735),p=a(5636),g=a(99357),l=a(84968),t=a(58469),n=a(10938),c=a(78330),u=a(11856),f=a(16540),h=a(89978),v=a(9808),C=a(29270),k=a(95602),S=a(19192),I=a(60216),s=a.n(I),O=a(19615),Y=a(90662),j=a(61541),B=a(78752),N=a(44826),V=a(82372),w=a.n(V),K=a(14356),J=a.n(K),X=a(77016),q=a(59087),_=a(88677),ee=a.n(_),te=a(68192),ne=a.n(te),ae=a(44526);const A=({isInstalled:r,isInDevelopmentMode:o,commandToCopy:i})=>{const E=(0,n.useNotification)(),{formatMessage:d}=(0,p.useIntl)(),{trackUsage:y}=(0,n.useTracking)();return r?e.createElement(v.Box,{paddingLeft:4},e.createElement(B.Icon,{as:ee(),marginRight:2,width:12,height:12,color:"success600"}),e.createElement(k.Typography,{variant:"omega",textColor:"success600",fontWeight:"bold"},d({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"}))):o?e.createElement(q.CopyToClipboard,{onCopy:()=>{y("willInstallPlugin"),E({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}})},text:i},e.createElement(ae.Button,{size:"S",startIcon:e.createElement(ne(),null),variant:"secondary"},d({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"}))):null};A.propTypes={isInstalled:s().bool.isRequired,isInDevelopmentMode:s().bool.isRequired,commandToCopy:s().string.isRequired};const re=A,le=(0,O.default)(k.Typography)`
  /* stylelint-disable value-no-vendor-prefix, property-no-vendor-prefix */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* stylelint-enable value-no-vendor-prefix, property-no-vendor-prefix */
  overflow: hidden;
`,L=({plugin:r,installedPluginNames:o,useYarn:i,isInDevelopmentMode:E})=>{const{attributes:d}=r,{formatMessage:y}=(0,p.useIntl)(),{trackUsage:T}=(0,n.useTracking)(),P=o.includes(d.npmPackageName),m=i?`yarn add ${d.npmPackageName}`:`npm install ${d.npmPackageName}`,M=y({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"});return e.createElement(S.Flex,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal"},e.createElement(v.Box,null,e.createElement(v.Box,{as:"img",src:d.logo.url,alt:`${d.name} logo`,hasRadius:!0,width:11,height:11}),e.createElement(v.Box,{paddingTop:4},e.createElement(k.Typography,{as:"h3",variant:"delta"},e.createElement(S.Flex,{alignItems:"center"},d.name,d.validated&&!d.madeByStrapi&&e.createElement(N.Tooltip,{description:y({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"})},e.createElement(S.Flex,null,e.createElement(B.Icon,{as:J(),marginLeft:2,color:"success600"}))),d.madeByStrapi&&e.createElement(N.Tooltip,{description:M},e.createElement(S.Flex,null,e.createElement(v.Box,{as:"img",src:X,alt:M,marginLeft:1,width:6,height:"auto"})))))),e.createElement(v.Box,{paddingTop:2},e.createElement(le,{as:"p",variant:"omega",textColor:"neutral600"},d.description))),e.createElement(Y.Stack,{horizontal:!0,spacing:2,style:{alignSelf:"flex-end"},paddingTop:6},e.createElement(j.LinkButton,{size:"S",href:`https://market.strapi.io/plugins/${d.slug}`,isExternal:!0,endIcon:e.createElement(w(),null),"aria-label":y({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:d.name}),variant:"tertiary",onClick:()=>T("didPluginLearnMore")},y({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"Learn more"})),e.createElement(re,{isInstalled:P,isInDevelopmentMode:E,commandToCopy:m})))};L.defaultProps={isInDevelopmentMode:!1},L.propTypes={plugin:s().shape({id:s().string.isRequired,attributes:s().shape({name:s().string.isRequired,description:s().string.isRequired,slug:s().string.isRequired,npmPackageName:s().string.isRequired,npmPackageUrl:s().string.isRequired,repositoryUrl:s().string.isRequired,logo:s().object.isRequired,developerName:s().string.isRequired,validated:s().bool.isRequired,madeByStrapi:s().bool.isRequired,strapiCompatibility:s().oneOf(["v3","v4"]).isRequired}).isRequired}).isRequired,installedPluginNames:s().arrayOf(s().string).isRequired,useYarn:s().bool.isRequired,isInDevelopmentMode:s().bool};const oe=L;var ie=a(97042),se=a.n(ie);const ue=(0,O.default)(v.Box)`
  background: ${({theme:r})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${r.colors.neutral150} 100%)`};
  opacity: 0.33;
`,ce=()=>e.createElement(u.GridLayout,null,Array(12).fill(null).map((r,o)=>e.createElement(ue,{key:`empty-plugin-card-${o}`,height:"234px",hasRadius:!0}))),F=({content:r})=>e.createElement(v.Box,{position:"relative"},e.createElement(ce,null),e.createElement(v.Box,{position:"absolute",top:11,width:"100%"},e.createElement(S.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},e.createElement(B.Icon,{as:se(),color:"",width:"160px",height:"88px"}),e.createElement(v.Box,{paddingTop:6},e.createElement(k.Typography,{variant:"delta",as:"p",textColor:"neutral600"},r)))));F.propTypes={content:s().string.isRequired};var de=a(75152),pe=a.n(de);const D=({isOnline:r})=>{const{formatMessage:o}=(0,p.useIntl)(),{trackUsage:i}=(0,n.useTracking)();return e.createElement(u.HeaderLayout,{title:o({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:o({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:r&&e.createElement(j.LinkButton,{startIcon:e.createElement(pe(),null),variant:"tertiary",href:"https://market.strapi.io/submit-plugin",onClick:()=>i("didSubmitPlugin"),isExternal:!0},o({id:"admin.pages.MarketPlacePage.submit.plugin.link",defaultMessage:"Submit your plugin"}))})},H=D;D.propTypes={isOnline:s().bool.isRequired};var ge=a(81999),me=(r,o,i)=>new Promise((E,d)=>{var y=m=>{try{P(i.next(m))}catch(M){d(M)}},T=m=>{try{P(i.throw(m))}catch(M){d(M)}},P=m=>m.done?E(m.value):Promise.resolve(m.value).then(y,T);P((i=i.apply(r,o)).next())});const fe=()=>me(void 0,null,function*(){const{data:r}=yield ge.be.get("/admin/information");return r});var ve=a(11652),ye=a(43653),he=a.n(ye),Pe=Object.defineProperty,Ee=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,G=(r,o,i)=>o in r?Pe(r,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[o]=i,ke=(r,o)=>{for(var i in o||(o={}))xe.call(o,i)&&G(r,i,o[i]);if(U)for(var i of U(o))be.call(o,i)&&G(r,i,o[i]);return r},Se=(r,o)=>Ee(r,Me(o)),Te=(r,o,i)=>new Promise((E,d)=>{var y=m=>{try{P(i.next(m))}catch(M){d(M)}},T=m=>{try{P(i.throw(m))}catch(M){d(M)}},P=m=>m.done?E(m.value):Promise.resolve(m.value).then(y,T);P((i=i.apply(r,o)).next())});const Oe="https://market-api.strapi.io",Re=()=>Te(void 0,null,function*(){const{data:r}=yield he().get(`${Oe}/plugins`);return Se(ke({},r),{data:r.data.filter(i=>i.attributes.strapiCompatibility==="v4")})}),Ie=r=>{const o=(0,n.useNotification)();return(0,l.useQuery)("list-marketplace-plugins",()=>Re(),{onSuccess:()=>{r&&r()},onError:()=>{o({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};var Ce=a(79613),Be=a(72661);const Le=()=>{const r=typeof navigator!="undefined"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[o,i]=(0,e.useState)(r),E=()=>i(!0),d=()=>i(!1);return(0,e.useEffect)(()=>(window.addEventListener("online",E),window.addEventListener("offline",d),()=>{window.removeEventListener("online",E),window.removeEventListener("offline",d)}),[]),o};var je=a(28992),Ne=a.n(je);const we=()=>{const{formatMessage:r}=(0,p.useIntl)(),{trackUsage:o}=(0,n.useTracking)();return e.createElement("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>o("didMissMarketplacePlugin")},e.createElement(n.ContentBox,{title:r({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:r({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:e.createElement(Ne(),null),iconBackground:"alternative100",endAction:e.createElement(B.Icon,{as:w(),color:"neutral600",width:3,height:3,marginLeft:2})}))},Ae=(r,o)=>(0,t.ZP)(r,o,{keys:[{threshold:t.ZP.rankings.WORD_STARTS_WITH,key:"attributes.name"},{threshold:t.ZP.rankings.WORD_STARTS_WITH,key:"attributes.description"}]}),$=()=>{const{formatMessage:r}=(0,p.useIntl)(),{trackUsage:o}=(0,n.useTracking)(),{notifyStatus:i}=(0,C.useNotifyAT)(),E=(0,e.useRef)(o),d=(0,n.useNotification)(),[y,T]=(0,e.useState)(""),{autoReload:P}=(0,n.useAppInfos)(),m=Le();(0,n.useFocusWhenNavigate)();const M=r({id:"global.marketplace",defaultMessage:"Marketplace"}),De=()=>{i(r({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:M}))},{status:z,data:He}=Ie(De),{status:W,data:Ue}=(0,ve.Z)(),{data:Ge,status:Z}=(0,l.useQuery)("app-information",fe,{onError:()=>{d({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),$e=[z,W,Z].includes("loading"),ze=[z,W,Z].includes("error");if((0,e.useEffect)(()=>{E.current("didGoToMarketplace")},[]),(0,e.useEffect)(()=>{P||d({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"},blockTransition:!0})},[d,P]),!m)return e.createElement(u.Layout,null,e.createElement(f.Main,null,e.createElement(H,{isOnline:m}),e.createElement(S.Flex,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",style:{paddingTop:"120px"}},e.createElement(v.Box,{paddingBottom:2},e.createElement(k.Typography,{textColor:"neutral700",variant:"alpha"},r({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"}))),e.createElement(v.Box,{paddingBottom:6},e.createElement(k.Typography,{textColor:"neutral700",variant:"epsilon"},r({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."}))),e.createElement("img",{src:Be,alt:"offline",style:{width:"88px",height:"88px"}}))));if(ze)return e.createElement(u.Layout,null,e.createElement(u.ContentLayout,null,e.createElement(v.Box,{paddingTop:8},e.createElement(n.AnErrorOccurred,null))));if($e)return e.createElement(u.Layout,null,e.createElement(f.Main,{"aria-busy":!0},e.createElement(n.LoadingIndicatorPage,null)));const Q=Ae(He.data,y),We=Ue.plugins.map(R=>R.packageName);return e.createElement(u.Layout,null,e.createElement(f.Main,null,e.createElement(g.Helmet,{title:r({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),e.createElement(H,{isOnline:m}),e.createElement(u.ContentLayout,null,e.createElement(v.Box,{width:"25%",paddingBottom:4},e.createElement(h.Searchbar,{name:"searchbar",onClear:()=>T(""),value:y,onChange:R=>T(R.target.value),clearLabel:r({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the plugin search"}),placeholder:r({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"})},r({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"}))),y.length>0&&!Q.length?e.createElement(F,{content:r({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:y})}):e.createElement(c.Grid,{gap:4},Q.map(R=>e.createElement(c.GridItem,{col:4,s:6,xs:12,style:{height:"100%"},key:R.id},e.createElement(oe,{plugin:R,installedPluginNames:We,useYarn:Ge.data.useYarn,isInDevelopmentMode:P})))),e.createElement(v.Box,{paddingTop:7},e.createElement(we,null)))))},Fe=()=>e.createElement(n.CheckPagePermissions,{permissions:Ce.Z.marketplace.main},e.createElement($,null))},77016:(x,b,a)=>{"use strict";x.exports=a.p+"90f49a385afb000fb1d4.svg"},72661:(x,b,a)=>{"use strict";x.exports=a.p+"a6b842e0b6d2b61135d1.svg"}}]);
