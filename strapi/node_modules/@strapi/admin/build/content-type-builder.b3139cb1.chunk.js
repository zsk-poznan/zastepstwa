"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{34340:($e,ce,i)=>{i.d(ce,{Z:()=>Ft});var r=i(32735),j=i(19615),he=i(60216),w=i.n(he),E=i(9808),Sn=i.n(E),Tt=i(10822),$=i.n(Tt),Ct=i(57746),a=i.n(Ct),S=i(61714),ze=i.n(S),De=i(9895),Et=i.n(De),Mt=i(80466),Ve=i.n(Mt),d=i(34103),qe=i.n(d),Pt=i(57290),I=i.n(Pt),Ot=i(57955),mt=i.n(Ot),Rt=i(90040),xt=i.n(Rt),St=i(55788),Ne=i.n(St),At=i(94661),be=i.n(At),z=i(81208),V=i.n(z),nt=i(28565),Be=i.n(nt),K=i(65232),Re=i.n(K),ee=i(80268),ue=i.n(ee),ve=i(42122),se=i.n(ve),at=i(10938),pt=i.n(at),Dt=Object.defineProperty,xe=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,ot=(H,Q,G)=>Q in H?Dt(H,Q,{enumerable:!0,configurable:!0,writable:!0,value:G}):H[Q]=G,st=(H,Q)=>{for(var G in Q||(Q={}))rt.call(Q,G)&&ot(H,G,Q[G]);if(xe)for(var G of xe(Q))Nt.call(Q,G)&&ot(H,G,Q[G]);return H},Ze=(H,Q)=>{var G={};for(var pe in H)rt.call(H,pe)&&Q.indexOf(pe)<0&&(G[pe]=H[pe]);if(H!=null&&xe)for(var pe of xe(H))Q.indexOf(pe)<0&&Nt.call(H,pe)&&(G[pe]=H[pe]);return G};const Zt={biginteger:se(),boolean:Et(),collectionType:a(),component:$(),contentType:a(),date:ze(),datetime:ze(),decimal:se(),dynamiczone:Ve(),email:qe(),enum:I(),enumeration:I(),file:Ne(),files:Ne(),float:se(),integer:se(),json:mt(),JSON:mt(),media:Ne(),number:se(),password:be(),relation:V(),richtext:xt(),singleType:Be(),string:Re(),text:Re(),time:ze(),timestamp:ze(),uid:ue()},It=(0,j.default)(E.Box)`
  width: ${(0,at.pxToRem)(32)};
  height: ${(0,at.pxToRem)(24)};
  box-sizing: content-box;
`,Ge=H=>{var Q=H,{type:G}=Q,pe=Ze(Q,["type"]);const wt=Zt[G];return Zt[G]?r.createElement(It,st({as:wt},pe)):null};Ge.propTypes={type:w().string.isRequired};const Ft=Ge},67177:($e,ce,i)=>{i.d(ce,{Z:()=>he});var r=i(32735);const he=(0,r.createContext)()},73938:($e,ce,i)=>{i.d(ce,{Z:()=>he});var r=i(32735);const he=(0,r.createContext)()},55389:($e,ce,i)=>{i.d(ce,{Z:()=>w});var r=i(32735),j=i(67177);const w=()=>(0,r.useContext)(j.Z)},84218:($e,ce,i)=>{i.d(ce,{Z:()=>w});var r=i(32735),j=i(73938);const w=()=>(0,r.useContext)(j.Z)},16011:($e,ce,i)=>{i.r(ce),i.d(ce,{default:()=>Li});var r=i(32735),j=i(5141),he=i(99357),w=i(5636),E=i(10938),Sn=i(11856),Tt=i(44766),$=i(45851),Ct=i(60216),a=i.n(Ct),S=i(92891),ze=i.n(S),De=i(4409),Et=i(13055),Mt=i(67177),Ve=i(84218),d=i(97123),qe=i(6358),Pt=i(33795),I=i.n(Pt),Ot=i(23973),mt=i.n(Ot),Rt=i(3040),xt=i.n(Rt),St=i(59578),Ne=i.n(St),At=i(23940),be=i.n(At),z=i(9808),V=i(44526),nt=i(27635),Be=i(4122),K=i(95602),Re=i(81700),ee=i(19192),ue=i(90662),ve=i(55389),se=i(25716);const at=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],pt=({intlLabel:e,name:t,onChange:n,value:o})=>{const{formatMessage:s}=(0,w.useIntl)(),l=o===null||o.length===0?s({id:"global.none",defaultMessage:"None"}):[...o].sort().map(u=>be()(u)).join(", "),c=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return r.createElement(se.MultiSelectNested,{id:"select1",label:c,customizeContent:()=>l,onChange:u=>{u.length>0?n({target:{name:t,value:u,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:at,value:o||[]})};pt.defaultProps={value:null},pt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};const Dt=pt;var xe=i(78330),rt=i(87910);const ot=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var st=i(34340),Ze=i(19615);const It=(0,Ze.default)(z.Box)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Ge=({type:e})=>{const{formatMessage:t}=(0,w.useIntl)(),{onClickSelectField:n}=(0,Ve.Z)(),o=()=>{n({attributeType:e,step:e==="component"?"1":null})};return r.createElement(It,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:o},r.createElement(ee.Flex,null,r.createElement(st.Z,{type:e}),r.createElement(z.Box,{paddingLeft:4},r.createElement(ee.Flex,null,r.createElement(K.Typography,{fontWeight:"bold"},t({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e}))),r.createElement(ee.Flex,null,r.createElement(K.Typography,{variant:"pi",textColor:"neutral600"},t({id:(0,d.Z)(`attribute.${e}.description`)}))))))};Ge.defaultProps={type:"text"},Ge.propTypes={type:a().string};const Ft=Ge,H=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:o}=(0,w.useIntl)(),s=t.includes("component")?"component":n,l=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${s}`);return r.createElement(Be.ModalBody,null,r.createElement(ee.Flex,{paddingBottom:4},r.createElement(K.Typography,{variant:"beta",as:"h2"},o({id:l,defaultMessage:"Select a field"}))),r.createElement(nt.Divider,null),r.createElement(z.Box,{paddingTop:6,paddingBottom:4},r.createElement(rt.KeyboardNavigable,{tagName:"button"},r.createElement(ue.Stack,{spacing:8},e.map((c,u)=>{const p=u;return r.createElement(xe.Grid,{key:p,gap:0},c.map((m,g)=>{const f=g%2===1,h=f?2:0,b=f?0:2;return r.createElement(xe.GridItem,{key:m,col:6,style:{height:"100%"}},r.createElement(z.Box,{paddingLeft:h,paddingRight:b,paddingBottom:1,style:{height:"100%"}},r.createElement(Ft,{type:m})))}))})))))};H.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};const Q=H;var G=i(49137),pe=i(63865),wt=i(50678),lr=i.n(wt),cr=Object.defineProperty,An=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,Dn=(e,t,n)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t)=>{for(var n in t||(t={}))ur.call(t,n)&&Dn(e,n,t[n]);if(An)for(var n of An(t))dr.call(t,n)&&Dn(e,n,t[n]);return e};const mr=(0,Ze.default)(K.Typography)`
  text-align: center;
`,Lt=({description:e,disabled:t,intlLabel:n,isCreating:o,name:s,onChange:l,value:c})=>{const{formatMessage:u}=(0,w.useIntl)(),[p,m]=(0,r.useState)(!1),g=n.id?u({id:n.id,defaultMessage:n.defaultMessage},Nn({},n.values)):s,f=e?u({id:e.id,defaultMessage:e.defaultMessage},Nn({},e.values)):"",h=()=>m(C=>!C),b=()=>{l({target:{name:s,value:!1}}),h()},T=({target:{checked:C}})=>{if(!C&&!o){h();return}l({target:{name:s,value:C}})};return r.createElement(r.Fragment,null,r.createElement(pe.ToggleInput,{checked:c||!1,disabled:t,hint:f,label:g,name:s,offLabel:u({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:u({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:T}),p&&r.createElement(G.Dialog,{onClose:h,title:"Confirmation",isOpen:p},r.createElement(G.DialogBody,{icon:r.createElement(lr(),null)},r.createElement(ue.Stack,{spacing:2},r.createElement(ee.Flex,{justifyContent:"center"},r.createElement(mr,{id:"confirm-description"},u({id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),r.createElement(ee.Flex,{justifyContent:"center"},r.createElement(K.Typography,{id:"confirm-description"},u({id:(0,d.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),r.createElement(G.DialogFooter,{startAction:r.createElement(V.Button,{onClick:h,variant:"tertiary"},u({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:r.createElement(V.Button,{variant:"danger-light",onClick:b},u({id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};Lt.defaultProps={description:null,disabled:!1,value:!1},Lt.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const pr=Lt;var qt=i(71657);const Bt=({actionType:e,attributeName:t,attributeType:n,categoryName:o,contentTypeKind:s,dynamicZoneTarget:l,forTarget:c,modalType:u,targetUid:p})=>{var m;const{formatMessage:g}=(0,w.useIntl)(),{modifiedData:f}=(0,ve.Z)();let h,b=[];const T=((m=f==null?void 0:f[c])==null?void 0:m[p])||(f==null?void 0:f[c])||null;let C=T==null?void 0:T.schema.displayName;if(u==="contentType"&&(h=s),["component","editCategory"].includes(u)&&(h="component"),["component","contentType"].includes(u)){let O=(0,d.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(O=(0,d.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(O=(0,d.Z)("modalForm.header-edit")),r.createElement(Be.ModalHeader,null,r.createElement(ee.Flex,null,r.createElement(z.Box,null,r.createElement(st.Z,{type:h})),r.createElement(z.Box,{paddingLeft:3},r.createElement(K.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:O},{name:C})))))}b=[{label:C,info:{category:(T==null?void 0:T.category)||null,name:T==null?void 0:T.schema.displayName}}],u==="chooseAttribute"&&(h=["component","components"].includes(c)?"component":T.schema.kind),u==="addComponentToDynamicZone"&&(h="dynamiczone",b.push({label:l})),u==="attribute"&&(h=n,b.push({label:t})),u==="editCategory"&&(b=[{label:g({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:o}]);const P=b.map(({label:O})=>O).join(",");return r.createElement(Be.ModalHeader,null,r.createElement(ue.Stack,{horizontal:!0,spacing:3},r.createElement(st.Z,{type:h}),r.createElement(qt.Breadcrumbs,{label:P},b.map((O,F)=>{var _;const q=be()(O.label);if(!q)return null;const X=`${O.label}.${F}`;if((_=O.info)!=null&&_.category){const x=`${q} (${be()(O.info.category)} - ${be()(O.info.name)})`;return r.createElement(qt.Crumb,{key:X},x)}return r.createElement(qt.Crumb,{key:X},q)}))))};Bt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null},Bt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string};const gr=Bt;var fr=i(59290),it=i.n(fr);const kt=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:o,isAttributeModal:s,isComponentAttribute:l,isComponentToDzModal:c,isContentTypeModal:u,isCreatingComponent:p,isCreatingComponentAttribute:m,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:f,isCreatingContentType:h,isCreatingDz:b,isComponentModal:T,isDzAttribute:C,isEditingAttribute:D,isEditingCategory:P,isInFirstComponentStep:O,onSubmitAddComponentAttribute:F,onSubmitAddComponentToDz:_,onSubmitCreateContentType:q,onSubmitCreateComponent:X,onSubmitCreateDz:x,onSubmitEditAttribute:Y,onSubmitEditCategory:k,onSubmitEditComponent:re,onSubmitEditContentType:Fe,onSubmitEditDz:ge})=>{const{formatMessage:U}=(0,w.useIntl)();return c?g?r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),_(R,!0)},startIcon:r.createElement(it(),null)},U({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):r.createElement(V.Button,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),_(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"})):s&&C&&!b?r.createElement(V.Button,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),ge(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"})):s&&C&&b?r.createElement(r.Fragment,null,r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),x(R,!0)},startIcon:r.createElement(it(),null)},U({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&l?O?r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),F(R,!0)}},U(m?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):r.createElement(r.Fragment,null,r.createElement(V.Button,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),F(R,!0)},startIcon:r.createElement(it(),null)},U(f?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),r.createElement(V.Button,{variant:"default",type:"button",onClick:R=>{R.preventDefault(),F(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))):s&&!l&&!C?r.createElement(r.Fragment,null,r.createElement(V.Button,{type:D?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),Y(R,!0)},startIcon:r.createElement(it(),null)},U({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),r.createElement(V.Button,{type:D?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),Y(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))):u?r.createElement(r.Fragment,null,!h&&r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),o()}},U({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),Fe(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))),h&&r.createElement(V.Button,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),q(R,!0)}},U({id:"global.continue",defaultMessage:"Continue"}))):T?r.createElement(r.Fragment,null,!p&&r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),n()}},U({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),re(R,!1)}},U({id:"global.finish",defaultMessage:"Finish"}))),p&&r.createElement(V.Button,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),X(R,!0)}},U({id:"global.continue",defaultMessage:"Continue"}))):P?r.createElement(r.Fragment,null,r.createElement(V.Button,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),t(e)}},U({id:"global.delete",defaultMessage:"Delete"})),r.createElement(V.Button,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),k(R)}},U({id:"global.finish",defaultMessage:"finish"}))):null};kt.defaultProps={categoryName:null},kt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditDz:a().func.isRequired};const yr=kt;var hr=Object.defineProperty,Zn=Object.getOwnPropertySymbols,br=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,In=(e,t,n)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tr=(e,t)=>{for(var n in t||(t={}))br.call(t,n)&&In(e,n,t[n]);if(Zn)for(var n of Zn(t))vr.call(t,n)&&In(e,n,t[n]);return e};const jt=({intlLabel:e,name:t,options:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,w.useIntl)(),c=e.id?l({id:e.id,defaultMessage:e.defaultMessage},Tr({},e.values)):t,u=p=>{let m="";p==="true"&&(m=!0),p==="false"&&(m=!1),o({target:{name:t,value:m,type:"select-default-boolean"}})};return r.createElement(se.Select,{label:c,id:t,name:t,onChange:u,value:(s===null?"":s).toString()},n.map(({metadatas:{intlLabel:p,disabled:m,hidden:g},key:f,value:h})=>r.createElement(se.Option,{key:f,value:h,disabled:m,hidden:g},p.defaultMessage)))};jt.defaultProps={value:null},jt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};const Cr=jt;var Er=i(10345);const Mr=(0,Ze.default)(ue.Stack)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Er.inputFocusStyle)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${K.Typography} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,_t=({intlLabel:e,name:t,onChange:n,radios:o,value:s})=>{const{formatMessage:l}=(0,w.useIntl)();return r.createElement(ue.Stack,{spacing:2},r.createElement(K.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},l(e)),r.createElement(Mr,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},o.map(c=>r.createElement("label",{htmlFor:c.value.toString(),key:c.value,className:"container"},r.createElement("input",{id:c.value.toString(),name:t,className:"option-input",checked:c.value===s,value:c.value,key:c.value,onChange:n,type:"radio"}),r.createElement(z.Box,{className:"option",padding:4},r.createElement(ee.Flex,null,r.createElement(z.Box,{paddingRight:4},r.createElement("span",{className:"checkmark"})),r.createElement(ue.Stack,{spacing:2},r.createElement(K.Typography,{fontWeight:"bold"},l(c.title)),r.createElement(K.Typography,{variant:"pi",textColor:"neutral600"},l(c.description)))))))))};_t.defaultProps={radios:[]},_t.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};const Ut=_t;var Pr=Object.defineProperty,Or=Object.defineProperties,Rr=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,Ln=(e,t,n)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xr=(e,t)=>{for(var n in t||(t={}))Fn.call(t,n)&&Ln(e,n,t[n]);if(gt)for(var n of gt(t))wn.call(t,n)&&Ln(e,n,t[n]);return e},Sr=(e,t)=>Or(e,Rr(t)),Ar=(e,t)=>{var n={};for(var o in e)Fn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&gt)for(var o of gt(e))t.indexOf(o)<0&&wn.call(e,o)&&(n[o]=e[o]);return n};const qn=e=>{var t=e,{onChange:n,name:o}=t,s=Ar(t,["onChange","name"]);const l=c=>{const u=c.target.value!=="false";n({target:{name:o,value:u,type:"boolean-radio-group"}})};return r.createElement(Ut,Sr(xr({},s),{name:o,onChange:l}))};qn.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};const Dr=qn;var Nr=i(52111),Zr=i(93026),Wt=i(37178),Ir=Object.defineProperty,Bn=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,wr=Object.prototype.propertyIsEnumerable,kn=(e,t,n)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lr=(e,t)=>{for(var n in t||(t={}))Fr.call(t,n)&&kn(e,n,t[n]);if(Bn)for(var n of Bn(t))wr.call(t,n)&&kn(e,n,t[n]);return e};const $t=({error:e,intlLabel:t,modifiedData:n,name:o,onChange:s,value:l})=>{const{formatMessage:c}=(0,w.useIntl)(),[u,p]=(0,r.useState)(!!l||l===0),m=t.id?c({id:t.id,defaultMessage:t.defaultMessage},Lr({},t.values)):o,g=n.type==="biginteger"?"text":"number",f=!n.type,h=e?c({id:e,defaultMessage:e}):"";return r.createElement(ue.Stack,{spacing:2},r.createElement(Nr.Checkbox,{id:o,name:o,onValueChange:b=>{s({target:{name:o,value:b?g==="text"?"0":0:null}}),p(D=>!D)},value:u},m),u&&r.createElement(z.Box,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?r.createElement(Wt.TextInput,{"aria-label":m,disabled:f,error:h,id:o,name:o,onChange:s,value:l===null?"":l}):r.createElement(Zr.NumberInput,{"aria-label":m,disabled:f,error:h,id:o,name:o,onValueChange:b=>{s({target:{name:o,value:b,type:g}})},value:l||0})))};$t.defaultProps={error:null,value:null},$t.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};const qr=$t;var Br=Object.defineProperty,kr=Object.defineProperties,jr=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,Un=(e,t,n)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_r=(e,t)=>{for(var n in t||(t={}))jn.call(t,n)&&Un(e,n,t[n]);if(ft)for(var n of ft(t))_n.call(t,n)&&Un(e,n,t[n]);return e},Ur=(e,t)=>kr(e,jr(t)),Wr=(e,t)=>{var n={};for(var o in e)jn.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ft)for(var o of ft(e))t.indexOf(o)<0&&_n.call(e,o)&&(n[o]=e[o]);return n};const Wn=e=>{var t=e,{onChange:n}=t,o=Wr(t,["onChange"]);const s=(0,E.useNotification)(),l=c=>{s({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(c)};return r.createElement(Ut,Ur(_r({},o),{onChange:l}))};Wn.propTypes={onChange:a().func.isRequired};const $r=Wn;var $n=i(19744),zr=i(89978),Vr=i(20763),Gr=i(38938),Kr=i.n(Gr),Hr=i(16925);const Xr=(0,Ze.default)(ee.Flex)`
  svg {
    z-index: 2;
    color: ${({isSelected:e,theme:t})=>e?t.colors.primary600:t.colors.neutral300};
  }
  ${({isSelected:e,theme:t})=>e?`
      &::after {
        content: '';
        position: absolute;
        top: 8px;
        left: 8px;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        background-color: ${t.colors.primary200};
        z-index: 1;
      }
    `:""}
`;var Yr=Object.defineProperty,Jr=Object.defineProperties,Qr=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?Yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,no=(e,t)=>{for(var n in t||(t={}))eo.call(t,n)&&Vn(e,n,t[n]);if(zn)for(var n of zn(t))to.call(t,n)&&Vn(e,n,t[n]);return e},ao=(e,t)=>Jr(e,Qr(t));const lt=44,zt=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{allIcons:l}=(0,ve.Z)(),{formatMessage:c}=(0,w.useIntl)(),u=(0,r.useRef)(),[p,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[h,b]=(0,r.useState)(l),T=()=>m(F=>!F);(0,r.useEffect)(()=>{p&&u.current.querySelector("input").focus()},[p]);const C=({target:{value:F}})=>{f(F),b(()=>l.filter(_=>_.includes(F)))},D=e?c({id:e,defaultMessage:e}):"",P=({index:F})=>{const q=F%16,X=lt,x=lt,Y=q*(x+1),k=parseInt(F/16,10)*lt;return{height:X,width:x,x:Y,y:k}},O=h.length;return r.createElement(z.Box,null,r.createElement(ue.Stack,{spacing:1},r.createElement(ee.Flex,{justifyContent:"space-between"},r.createElement(K.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},c(t)),p?r.createElement("div",{ref:u,style:{width:206}},r.createElement(zr.Searchbar,{name:"searchbar",onBlur:()=>{g||T()},onClear:()=>{f(""),b(l),T()},value:g,onChange:C,clearLabel:"Clearing the icon search",placeholder:c({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),size:"S"},c({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}))):r.createElement(Vr.IconButton,{onClick:T,"aria-label":"Edit",icon:r.createElement(Kr(),null),noBorder:!0})),r.createElement(ue.Stack,{spacing:1},r.createElement(z.Box,{background:"neutral100",borderColor:e?"danger600":"",hasRadius:!0},r.createElement(z.Box,null,r.createElement($n.qj,{disableHeight:!0},({width:F})=>r.createElement($n.FE,{cellCount:O,cellRenderer:({index:_,key:q,style:X})=>{const x=h[_],Y=x===s,k=()=>{o({target:{name:n,value:x}})};return r.createElement("div",{style:ao(no({},X),{width:lt}),key:q},r.createElement(Xr,{style:{width:"100%",height:lt},alignItems:"center",justifyContent:"center",onClick:k,isSelected:Y,as:"button",type:"button"},r.createElement(Hr.G,{icon:x})))},cellSizeAndPositionGetter:P,height:132,width:F})))),e&&r.createElement(K.Typography,{variant:"pi",id:`${n}-error`,textColor:"danger600","data-strapi-field-error":!0},D))))};zt.defaultProps={error:null},zt.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string.isRequired};const ro=zt;var Vt=i(36681),Gn=i(12611),te=i(75081);const Gt=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:o}=(0,ve.Z)(),s=(0,De.I0)(),l=o.filter(ot),c=I()(n,[t,"plugin"],null),u=I()(n,[t,"schema","displayName"],"error");return r.createElement(Gn.SimpleMenu,{id:"label",label:`${u}
    ${c?`(from: ${c})`:""}`},l.map(({uid:p,title:m,restrictRelationsTo:g,plugin:f})=>{const h=()=>{const b=f?`${f}_${m}`:m;s({type:te.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:b,targetContentTypeAllowedRelations:g}})};return r.createElement(Gn.MenuItem,{key:p,onClick:h},m,"\xA0",f&&r.createElement(r.Fragment,null,"(from: ",f,")"))}))};Gt.defaultProps={target:null},Gt.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const oo=Gt,Kt=({disabled:e,error:t,header:n,isMain:o,name:s,onChange:l,oneThatIsCreatingARelationWithAnother:c,target:u,value:p})=>r.createElement(z.Box,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},r.createElement(ee.Flex,{paddingTop:o?4:1,paddingBottom:o?3:1,justifyContent:"center"},o?r.createElement(K.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):r.createElement(oo,{target:u,oneThatIsCreatingARelationWithAnother:c})),r.createElement(nt.Divider,{background:"neutral200"}),r.createElement(z.Box,{padding:4},r.createElement(E.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:l,type:"text",value:p})));Kt.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange:()=>{},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Kt.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};const Kn=Kt;var so=i(51382),Hn=i.n(so),io=i(24443),Ht=i.n(io),lo=i(29158),co=i.n(lo),uo=i(10883),mo=i.n(uo),po=i(36925),go=i.n(po),fo=i(23277),yo=i.n(fo),ho=i(55452),bo=i.n(ho),vo=i(15568),To=i.n(vo);const Co=(0,Ze.default)(z.Box)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Eo=(0,Ze.default)(z.Box)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Mo=(0,Ze.default)(ee.Flex)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Po={oneWay:mo(),oneToOne:co(),oneToMany:yo(),manyToOne:bo(),manyToMany:To(),manyWay:go()},Xt=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:o})=>{const s=(0,De.I0)(),{formatMessage:l}=(0,w.useIntl)(),{contentTypes:c,modifiedData:u}=(0,ve.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],m=["oneWay","manyWay"],f=(e==="contentType"?I()(u,[e,"schema","kind"],""):e)==="collectionType"?p:m,h=n==="manyToOne",b=I()(c,[o,"schema","displayName"],"unknown"),T=h?b:t,C=h?t:b,D=Ht()(T,n==="manyToMany"?2:1),P=I()(c,[o,"schema","restrictRelationsTo"],null),O=Ht()(C,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?r.createElement(ee.Flex,{style:{flex:1}},r.createElement(Co,null,r.createElement(ee.Flex,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},r.createElement(rt.KeyboardNavigable,{tagName:"button"},r.createElement(ue.Stack,{spacing:3,horizontal:!0},f.map(F=>{const _=Po[F],q=P===null||P.includes(F);return r.createElement(Eo,{as:"button",isSelected:n===F,disabled:!q,key:F,onClick:()=>{q&&s({type:te.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:o,value:F}})},padding:2,type:"button"},r.createElement(_,{key:F}))}))))),r.createElement(Mo,{justifyContent:"center"},r.createElement(K.Typography,null,Hn()(D,{length:24}),"\xA0"),r.createElement(K.Typography,{textColor:"primary600"},l({id:(0,d.Z)(`relation.${n}`)}),"\xA0"),r.createElement(K.Typography,null,Hn()(O,{length:24})))):null};Xt.defaultProps={relationType:null,target:null},Xt.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};const Oo=Xt,Xn=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:o,onChange:s})=>{const l=(0,Vt.Z)(n.relation,n.targetAttribute);return r.createElement(ee.Flex,{style:{position:"relative"}},r.createElement(Kn,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:s,value:(n==null?void 0:n.name)||""}),r.createElement(Oo,{naturePickerType:o,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),r.createElement(Kn,{disabled:["oneWay","manyWay"].includes(l),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};Xn.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};const Ro=Xn;var Yn=i(40170),xo=Object.defineProperty,Jn=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Ao=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Do=(e,t)=>{for(var n in t||(t={}))So.call(t,n)&&Qn(e,n,t[n]);if(Jn)for(var n of Jn(t))Ao.call(t,n)&&Qn(e,n,t[n]);return e};const Yt=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:c})=>{const{formatMessage:u}=(0,w.useIntl)(),p=(0,r.useRef)(l),m=(o==null?void 0:o.displayName)||"";(0,r.useEffect)(()=>{if(m){const b=(0,Yn.Z)(m);try{const T=Ht()(b,2);p.current({target:{name:s,value:T}})}catch(T){p.current({target:{name:s,value:b}})}}else p.current({target:{name:s,value:""}})},[m,s]);const g=t?u({id:t,defaultMessage:t}):"",f=e?u({id:e.id,defaultMessage:e.defaultMessage},Do({},e.values)):"",h=u(n);return r.createElement(Wt.TextInput,{error:g,label:h,id:s,hint:f,name:s,onChange:l,value:c||""})};Yt.defaultProps={description:null,error:null,value:null},Yt.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const No=Yt;var ea=i(14715);const Jt=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,w.useIntl)(),{allComponentsCategories:c}=(0,ve.Z)(),[u,p]=(0,r.useState)(c),m=e?l({id:e,defaultMessage:e}):"",g=l(t),f=b=>{o({target:{name:n,value:b,type:"select-category"}})},h=b=>{p(T=>[...T,b]),f(b)};return r.createElement(ea.CreatableCombobox,{error:m,id:n,label:g,name:n,onChange:f,onCreateOption:h,value:s},u.map(b=>r.createElement(ea.ComboboxOption,{key:b,value:b},b)))};Jt.defaultProps={error:null,value:null},Jt.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Zo=Jt,Qt=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:o,isCreatingComponentWhileAddingAField:s,componentToCreate:l,name:c,onChange:u,targetUid:p,forTarget:m,value:g})=>{const{formatMessage:f}=(0,w.useIntl)(),h=e?f({id:e,defaultMessage:e}):"",b=f(t),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:C}=(0,ve.Z)(),D=["component","components"].includes(m);let P=Object.entries(T).reduce((O,F)=>{const[_,q]=F,X=q.map(x=>({uid:x.uid,label:x.schema.displayName,categoryName:_}));return[...O,...X]},[]);return n&&(P=P.filter(O=>!C.includes(O.uid))),D&&(P=P.filter(O=>O.uid!==p)),s&&(P=[{uid:g,label:l.displayName,categoryName:l.category}]),r.createElement(se.Select,{disabled:s||!o,error:h,label:b,id:c,name:c,onChange:O=>{u({target:{name:c,value:O,type:"select-category"}})},value:g||""},P.map(O=>r.createElement(se.Option,{key:O.uid,value:O.uid},`${O.categoryName} - ${O.label}`)))};Qt.defaultProps={componentToCreate:null,error:null},Qt.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};const Io=Qt,en=(e,t)=>e.find(({name:n})=>n===t),ta=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,w.useIntl)(),{componentsGroupedByCategory:c,modifiedData:u}=(0,ve.Z)(),m=(en(u.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(c).reduce((b,T)=>{const C=c[T].filter(({uid:D})=>!m.includes(D));return C.length>0&&(b[T]=C),b},{}),f=Object.entries(g).reduce((b,T)=>{const[C,D]=T,P={label:C,children:D.map(({uid:O,schema:{displayName:F}})=>({label:F,value:O}))};return b.push(P),b},[]),h=l({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return r.createElement(se.MultiSelectNested,{id:"select1",label:l(t),customizeContent:()=>h,name:n,onChange:b=>{o({target:{name:n,value:b,type:"select-components"}})},options:f,value:s||[]})};ta.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};const Fo=ta,tn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:c})=>{const{formatMessage:u}=(0,w.useIntl)(),p=u(e),m=t?u({id:t,defaultMessage:t}):"",g=f=>{s({target:{name:o,value:f,type:"select"}}),!!c&&n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}})};return r.createElement(se.Select,{error:m,label:p,id:o,name:o,onChange:g,value:c||""},l.map(({metadatas:{intlLabel:f,disabled:h,hidden:b},key:T,value:C})=>r.createElement(se.Option,{key:T,value:C,disabled:h,hidden:b},u({id:f.id,defaultMessage:f.defaultMessage},f.values))))};tn.defaultProps={error:void 0,value:""},tn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const wo=tn,nn=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:c})=>{const{formatMessage:u}=(0,w.useIntl)(),p=u(e),m=t?u({id:t,defaultMessage:t}):"",g=f=>{s({target:{name:o,value:f,type:"select"}}),c&&(f==="biginteger"&&c!=="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(f)&&c==="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})))};return r.createElement(se.Select,{error:m,label:p,id:o,name:o,onChange:g,value:c||""},l.map(({metadatas:{intlLabel:f,disabled:h,hidden:b},key:T,value:C})=>r.createElement(se.Option,{key:T,value:C,disabled:h,hidden:b},u(f))))};nn.defaultProps={error:void 0,value:""},nn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const Lo=nn;var qo=Object.defineProperty,na=Object.getOwnPropertySymbols,Bo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,aa=(e,t,n)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jo=(e,t)=>{for(var n in t||(t={}))Bo.call(t,n)&&aa(e,n,t[n]);if(na)for(var n of na(t))ko.call(t,n)&&aa(e,n,t[n]);return e};const an=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:c})=>{const{formatMessage:u}=(0,w.useIntl)(),p=(0,r.useRef)(l),m=(o==null?void 0:o.displayName)||"";(0,r.useEffect)(()=>{m?p.current({target:{name:s,value:(0,Yn.Z)(m)}}):p.current({target:{name:s,value:""}})},[m,s]);const g=t?u({id:t,defaultMessage:t}):"",f=e?u({id:e.id,defaultMessage:e.defaultMessage},jo({},e.values)):"",h=u(n);return r.createElement(Wt.TextInput,{error:g,label:h,id:s,hint:f,name:s,onChange:l,value:c||""})};an.defaultProps={description:null,error:null,value:null},an.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const _o=an;var Uo=Object.defineProperty,Wo=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,ra=Object.getOwnPropertySymbols,zo=Object.prototype.hasOwnProperty,Vo=Object.prototype.propertyIsEnumerable,oa=(e,t,n)=>t in e?Uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sa=(e,t)=>{for(var n in t||(t={}))zo.call(t,n)&&oa(e,n,t[n]);if(ra)for(var n of ra(t))Vo.call(t,n)&&oa(e,n,t[n]);return e},Go=(e,t)=>Wo(e,$o(t));const ia=({form:e,formErrors:t,genericInputProps:n,modifiedData:o,onChange:s})=>{const{formatMessage:l}=(0,w.useIntl)();return e.map((c,u)=>c.items.length===0?null:r.createElement(z.Box,{key:u},c.sectionTitle&&r.createElement(z.Box,{paddingBottom:4},r.createElement(K.Typography,{variant:"delta",as:"h3"},l(c.sectionTitle))),r.createElement(xe.Grid,{gap:4},c.items.map((p,m)=>{const g=`${u}.${m}`,f=I()(o,p.name,""),h=Object.keys(t).find(T=>T===p.name),b=h?t[h].id:I()(t,[...p.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);return p.type==="pushRight"?r.createElement(xe.GridItem,{col:p.size||6,key:p.name||g},r.createElement("div",null)):r.createElement(xe.GridItem,{col:p.size||6,key:p.name||g},r.createElement(E.GenericInput,Go(sa(sa({},p),n),{error:b,onChange:s,value:f})))}))))};ia.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};const la=ia;var Ko=i(90353),Ho=Object.defineProperty,ca=Object.getOwnPropertySymbols,Xo=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,ua=(e,t,n)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,da=(e,t)=>{for(var n in t||(t={}))Xo.call(t,n)&&ua(e,n,t[n]);if(ca)for(var n of ca(t))Yo.call(t,n)&&ua(e,n,t[n]);return e};const rn=({description:e,disabled:t,error:n,intlLabel:o,labelAction:s,name:l,onChange:c,placeholder:u,value:p})=>{const{formatMessage:m}=(0,w.useIntl)(),g=n?m({id:n,defaultMessage:n}):"",f=e?m({id:e.id,defaultMessage:e.defaultMessage},da({},e.values)):"",h=m(o),b=u?m({id:u.id,defaultMessage:u.defaultMessage},da({},u.values)):"",T=Array.isArray(p)?p.join(`
`):"",C=D=>{const P=D.target.value.split(`
`);c({target:{name:l,value:P}})};return r.createElement(Ko.Textarea,{disabled:t,error:g,label:h,labelAction:s,id:l,hint:f,name:l,onChange:C,placeholder:b,value:T},T)};rn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},rn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};const Jo=rn,Qo=(e,t)=>{const n=I()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:I()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:c,targetAttribute:u})=>{const p=(0,Vt.Z)(l,u);return c==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},es=(e="",t,n)=>{const o=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",l=n.includes(t),c=!s&&!l;return s?[[...o,"uid"],["component","dynamiczone"]]:c?[o,["component"]]:[o]},ts=({modalType:e,forTarget:t,kind:n,actionType:o,step:s})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${o}${s!=="null"&&s!==null&&o!=="edit"?".step":""}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},ma=e=>e.reduce((t,n)=>{const o=n.items.reduce((s,l)=>(l.name&&s.push(l.name),s),[]);return[...t,...o]},[]);var v=i(5173),Ke=i(57687);const ns={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},pa=new RegExp("^[A-Za-z][-_0-9A-Za-z]*$"),as=e=>{const t={name:v.Z_().matches(pa,E.translatedErrors.regex).test({name:"nameNotAllowed",message:E.translatedErrors.unique,test:n=>n?!e.includes((0,S.toLower)(n)):!1}).required(E.translatedErrors.required)};return v.Ry(t)},rs=(e,t,n)=>{const o={displayName:v.Z_().test({name:"nameAlreadyUsed",message:E.translatedErrors.unique,test:s=>{if(!s)return!1;const l=(0,Ke.N)(s,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test:s=>s?!t.includes((0,S.toLower)((0,S.trim)(s))):!1}).required(E.translatedErrors.required),category:v.Z_().matches(pa,E.translatedErrors.regex).required(E.translatedErrors.required),icon:v.Z_()};return v.Ry(o)},on={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},He={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"component-icon-picker",size:12,intlLabel:{id:(0,d.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},M={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var os=Object.defineProperty,ss=Object.defineProperties,is=Object.getOwnPropertyDescriptors,ga=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,fa=(e,t,n)=>t in e?os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sn=(e,t)=>{for(var n in t||(t={}))ls.call(t,n)&&fa(e,n,t[n]);if(ga)for(var n of ga(t))cs.call(t,n)&&fa(e,n,t[n]);return e},ln=(e,t)=>ss(e,is(t));const us={boolean:()=>({sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private]}]}),component:({repeatable:e},t)=>t==="1"?{sections:He.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private,M.max,M.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private]}]},date:({type:e})=>({sections:[{sectionTitle:null,items:[ln(sn({},M.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.unique,M.private]}]}),dynamiczone:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.max,M.min]}]}),email:()=>({sections:[{sectionTitle:null,items:[ln(sn({},M.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.unique,M.maxLength,M.minLength,M.private]}]}),enumeration:e=>({sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private]}]}),json:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private]}]}),media:()=>({sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.private]}]}),number:e=>{const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.unique,M.max,M.min,M.private]}]}},password:()=>({sections:[{sectionTitle:null,items:[M.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.maxLength,M.minLength,M.private]}]}),relation:()=>({sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.private]}]}),richtext:()=>({sections:[{sectionTitle:null,items:[M.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.maxLength,M.minLength,M.private]}]}),text:()=>({sections:[{sectionTitle:null,items:[M.default,M.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.unique,M.maxLength,M.minLength,M.private]}]}),uid:e=>({sections:[{sectionTitle:null,items:[ln(sn({},M.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[M.required,M.maxLength,M.minLength,M.private]}]})},Ie={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var ds=Object.defineProperty,ms=Object.defineProperties,ps=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,ha=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ys=(e,t)=>{for(var n in t||(t={}))gs.call(t,n)&&ha(e,n,t[n]);if(ya)for(var n of ya(t))fs.call(t,n)&&ha(e,n,t[n]);return e},hs=(e,t)=>ms(e,ps(t));const ba={advanced:us,base:{component:(e,t)=>{if(t==="1"){const n=e.createComponent===!0?He.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[on]},...n]}}return{sections:[{sectionTitle:null,items:[Ie,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date:()=>({sections:[{sectionTitle:null,items:[Ie,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}),enumeration:()=>({sections:[{sectionTitle:null,items:[Ie]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}),media:()=>({sections:[{sectionTitle:null,items:[Ie]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}),number:()=>({sections:[{sectionTitle:null,items:[Ie,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}),relation:()=>({sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}),string:()=>({sections:[{sectionTitle:null,items:[Ie]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}),text:()=>({sections:[{sectionTitle:null,items:[Ie]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}),uid:(e,t,n)=>{const o=n.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[hs(ys({},Ie),{placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...o]}]}]}}}},bs={sections:[{sectionTitle:null,items:[Ie]}]};var vs=i(40791),Ts=i.n(vs);const Cs=e=>Ts()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Es=e=>/^[0-9]/.test(e),va=new RegExp("^[A-Za-z][_0-9A-Za-z]*$"),Ta=e=>({name:"attributeNameAlreadyUsed",message:E.translatedErrors.unique,test:t=>t?!e.includes(t):!1}),gl=(e,t,n)=>{const o=get(e,["schema","attributes"],{});return Object.keys(o).filter(s=>t?s!==n:!0)},cn=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test:t=>t?!e.includes(t):!1}),y={default:()=>v.Z_().nullable(),max:()=>v.Rx().integer().nullable(),min:()=>v.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>v.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>v.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),name:(e,t)=>v.Z_().test(Ta(e)).test(cn(t)).matches(va,E.translatedErrors.regex).required(E.translatedErrors.required),required:()=>v.O7(),type:()=>v.Z_().required(E.translatedErrors.required),unique:()=>v.O7().nullable()},un=(e,t)=>({name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:v.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test:o=>new RegExp(o)!==null}).nullable()}),dn={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,S.toNumber)(e))?!0:(0,S.toNumber)(t)>=(0,S.toNumber)(e)}},Ca={date:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},datetime:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},time:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},default:(e,t)=>{const n={name:y.name(e,t),type:y.type()};return v.Ry(n)},biginteger:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Z_().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:v.Z_().nullable().matches(/^-?\d*$/,E.translatedErrors.regex),min:v.Z_().nullable().test(dn).matches(/^-?\d*$/,E.translatedErrors.regex)};return v.Ry(n)},boolean:(e,t)=>{const n={name:y.name(e,t),default:v.O7().nullable(),required:y.required(),unique:y.unique()};return v.Ry(n)},component:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:v.Z_().required(E.translatedErrors.required)};return v.Ry(n)},decimal:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Rx(),required:y.required(),max:v.Rx(),min:v.Rx().test(dn)};return v.Ry(n)},dynamiczone:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(n)},email:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Z_().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},enumeration:(e,t)=>{const n=new RegExp("^[_A-Za-z][_0-9A-Za-z]*$"),o={name:v.Z_().test(Ta(e)).test(cn(t)).matches(n,E.translatedErrors.regex).required(E.translatedErrors.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:v.IX().of(v.Z_()).min(1,E.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(s){const l=s.map(Cs);return!ze()(l).groupBy().pickBy(u=>u.length>1).keys().value().length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:s=>!s.some(l=>l==="")}).test({name:"doesNotStartWithANumber",message:(0,d.Z)("error.validation.enum-number"),test:s=>!s.some(Es)}),enumName:v.Z_().nullable()};return v.Ry(o)},float:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),default:v.Rx(),max:v.Rx(),min:v.Rx().test(dn)};return v.Ry(n)},integer:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:v.Rx().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return v.Ry(n)},json:(e,t)=>{const n={name:y.name(e,t),type:y.type(),required:y.required(),unique:y.unique()};return v.Ry(n)},media:(e,t)=>{const n={name:y.name(e,t),type:y.type(),multiple:v.O7(),required:y.required(),allowedTypes:v.IX().of(v.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return v.Ry(n)},password:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},relation:(e,t,n,{initialData:o,modifiedData:s})=>{const l={name:y.name(e,t),target:v.Z_().required(E.translatedErrors.required),relation:v.Z_().required(),type:v.Z_().required(),targetAttribute:v.Vo(()=>{const c=(0,Vt.Z)(s.relation,s.targetAttribute);if(c==="oneWay"||c==="manyWay")return v.Z_().nullable();let u=v.Z_().test(cn(t)),m=[...n.map(({name:g})=>g),s.name].filter(g=>g!==o.targetAttribute);return u.matches(va,E.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test:g=>g?!m.includes(g):!1}).required(E.translatedErrors.required)})};return v.Ry(l)},richtext:(e,t)=>{const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return v.Ry(n)},string:(e,t)=>{const n=un(e,t);return v.Ry(n)},text:(e,t)=>{const n=un(e,t);return v.Ry(n)},uid:(e,t)=>{const n=un(e,t);return v.Ry(n)}},Ea={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},mn={advanced:{default:()=>({sections:[{sectionTitle:{id:(0,d.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]})},base:{create:()=>({sections:[{sectionTitle:null,items:[Ea,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}),edit:()=>({sections:[{sectionTitle:null,items:[Ea,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]})}},Ms=(e,t,n,o)=>{const s={displayName:v.Z_().test({name:"nameAlreadyUsed",message:E.translatedErrors.unique,test:l=>{if(!l)return!1;const c=(0,Ke.E)(l);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test:l=>l?!t.includes((0,S.toLower)((0,S.trim)(l))):!1}).required(E.translatedErrors.required),pluralName:v.Z_().test({name:"pluralNameAlreadyUsed",message:E.translatedErrors.unique,test:l=>l?!o.includes(l):!1}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test:(l,c)=>l?c.parent.singularName!==l:!1}).required(E.translatedErrors.required),singularName:v.Z_().test({name:"singularNameAlreadyUsed",message:E.translatedErrors.unique,test:l=>l?!n.includes(l):!1}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test:(l,c)=>l?c.parent.pluralName!==l:!1}).required(E.translatedErrors.required),draftAndPublish:v.O7(),kind:v.Z_().oneOf(["singleType","collectionType"])};return v.Ry(s)},pn={advanced:{default:()=>({sections:He.advanced("componentToCreate.")})},base:{createComponent:()=>({sections:[{sectionTitle:null,items:[on]},...He.base("componentToCreate.")]}),default:()=>({sections:[{sectionTitle:null,items:[on]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]})}};var Ma=i(98399),Ps=Object.defineProperty,Os=Object.defineProperties,Rs=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,Ra=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xa=(e,t)=>{for(var n in t||(t={}))Pa.call(t,n)&&Ra(e,n,t[n]);if(yt)for(var n of yt(t))Oa.call(t,n)&&Ra(e,n,t[n]);return e},xs=(e,t)=>Os(e,Rs(t)),Sa=(e,t)=>{var n={};for(var o in e)Pa.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&yt)for(var o of yt(e))t.indexOf(o)<0&&Oa.call(e,o)&&(n[o]=e[o]);return n};const je={attribute:{schema(e,t,n,o,s,l){const u=I()(e,["schema","attributes"],[]).filter(({name:p})=>p!==s.initialData.name).map(({name:p})=>p);try{let p=Ca[t](u,n.attributes,o,s);return l.makeValidator(["attribute",t],p,u,n.attributes,o,s)}catch(p){return Ma.error("Error yup build schema",p),Ca.default(u,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:o,step:s,extensions:l}=t,c=Sa(t,["data","type","step","extensions"]);try{const u=ba.advanced[o](n,s).sections,p=l.getAdvancedForm(["attribute",o],xa({data:n,type:o,step:s},c));return{sections:u.reduce((g,f)=>(f.sectionTitle===null?g.push(f):g.push(xs(xa({},f),{items:[...f.items,...p]})),g),[])}}catch(u){return Ma.error(u),{sections:[]}}},base({data:e,type:t,step:n,attributes:o}){try{return ba.base[t](e,n,o)}catch(s){return bs}}}},contentType:{schema(e,t,n,o,s,l){const c=Object.values(l).map(h=>h.schema.singularName),u=Object.values(l).map(h=>h.schema.pluralNames),p=t?e.filter(h=>h!==n):e,m=t?c.filter(h=>I()(l,[n,"schema","singularName"],"")!==h):c,g=t?u.filter(h=>I()(l,[n,"schema","pluralName"],"")!==h):u,f=Ms(p,o.models,m,g);return s.makeValidator(["contentType"],f,p,o.models,m,g)},form:{base({actionType:e}){return e==="create"?mn.base.create():mn.base.edit()},advanced(e){var t=e,{extensions:n}=t,o=Sa(t,["extensions"]);const s=mn.advanced.default(o).sections,l=n.getAdvancedForm(["contentType"]);return{sections:[...s,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:l}]}}}},component:{schema(e,t,n,o=!1,s=null){const l=o?e.filter(c=>c!==s):e;return rs(l,n.models,t)},form:{advanced(){return{sections:He.advanced()}},base(){return{sections:He.base()}}}},addComponentToDynamicZone:{form:{advanced(){return pn.advanced.default()},base({data:e}){return I()(e,"createComponent",!1)?pn.base.createComponent():pn.base.default()}}},editCategory:{schema(e,t){const n=e.filter(o=>o!==t.name).map(o=>Ne()(o));return as(n)},form:{advanced:()=>({sections:[]}),base(){return ns.base}}}};var Aa=i(12463),Ss=i(62170);const As=()=>e=>e[`${$.Z}_formModal`]||Ss.E,Ds=()=>(0,Aa.P1)(As(),e=>e);var Da=i(98399),Ns=Object.defineProperty,Zs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Ia=(e,t,n)=>t in e?Ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ct=(e,t)=>{for(var n in t||(t={}))Na.call(t,n)&&Ia(e,n,t[n]);if(ht)for(var n of ht(t))Za.call(t,n)&&Ia(e,n,t[n]);return e},gn=(e,t)=>Zs(e,Is(t)),bt=(e,t)=>{var n={};for(var o in e)Na.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ht)for(var o of ht(e))t.indexOf(o)<0&&Za.call(e,o)&&(n[o]=e[o]);return n},Fa=(e,t,n)=>new Promise((o,s)=>{var l=p=>{try{u(n.next(p))}catch(m){s(m)}},c=p=>{try{u(n.throw(p))}catch(m){s(m)}},u=p=>p.done?o(p.value):Promise.resolve(p.value).then(l,c);u((n=n.apply(e,t)).next())});const Fs=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:o,actionType:s,attributeName:l,attributeType:c,categoryName:u,dynamicZoneTarget:p,forTarget:m,modalType:g,isOpen:f,kind:h,step:b,targetUid:T}=(0,Ve.Z)(),C=(0,r.useRef)(),D=(0,r.useMemo)(Ds,[]),P=(0,De.I0)(),O=(0,E.useNotification)(),F=(0,De.v9)(B=>D(B),De.wU),{push:_}=(0,j.useHistory)(),{trackUsage:q}=(0,E.useTracking)(),{formatMessage:X}=(0,w.useIntl)(),{getPlugin:x}=(0,E.useStrapiApp)(),k=x($.Z).apis.forms,re=k.components.inputs,{addAttribute:Fe,addCreatedComponentToDynamicZone:ge,allComponentsCategories:U,changeDynamicZoneComponents:R,contentTypes:Ce,components:Ye,createSchema:Je,deleteCategory:Cn,deleteData:vt,editCategory:En,submitData:Mn,modifiedData:de,nestedComponents:Pn,setModifiedData:On,sortedContentTypesList:Rn,updateSchema:xn,reservedNames:Ue}=(0,ve.Z)(),{componentToCreate:Qe,formErrors:we,initialData:Ee,isCreatingComponentWhileAddingAField:dt,modifiedData:N}=F,Se=m==="contentType"||m==="component"?[m]:[m,T];(0,r.useEffect)(()=>{if(f){const B=Rn.filter(ot);g==="editCategory"&&On(),s==="edit"&&g==="attribute"&&m==="contentType"&&q("willEditFieldOfContentType");const ke=[...Se,"schema","attributes"],Le=en(I()(de,ke,[]),p)||null;if(g==="editCategory"&&s==="edit"&&P({type:te._H,modalType:g,actionType:s,data:{name:u}}),g==="contentType"&&s==="create"&&P({type:te._H,modalType:g,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&s==="edit"){const{displayName:W,draftAndPublish:le,kind:oe,pluginOptions:me,pluralName:Ae,singularName:Pe}=I()(de,[...Se,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});P({type:te._H,actionType:s,modalType:g,data:{displayName:W,draftAndPublish:le,kind:oe,pluginOptions:me,pluralName:Ae,singularName:Pe}})}if(g==="component"&&s==="edit"){const W=I()(de,Se,{});P({type:te._H,actionType:s,modalType:g,data:{displayName:W.schema.displayName,category:W.category,icon:W.schema.icon}})}if(g==="addComponentToDynamicZone"&&s==="edit"){const W=gn(ct({},Le),{components:[],name:p,createComponent:!1,componentToCreate:{type:"component"}});P({type:te.VZ,attributeToEdit:W})}if(c){const W=en(I()(de,ke,[]),l),le=gn(ct({},W),{name:l});c==="component"&&s==="edit"&&(le.repeatable||xt()(le,"repeatable",!1)),P({type:te.S0,attributeType:c,nameToSetForRelation:I()(B,["0","title"],"error"),targetUid:I()(B,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:le,step:b,forTarget:m})}}else P({type:te.c2})},[s,l,c,u,p,m,f,g]);const A=g==="contentType",Z=g==="component",L=g==="attribute",J=c==="component"&&L,ne=s==="create",ie=I()(N,"createComponent",!1)||dt,fe=b==="1",et=g==="editCategory",We=g==="chooseAttribute",tt=(0,Ke.E)(N.displayName||""),tr=I()(de,[...Se,"schema","attributes"],null),qi=()=>Fa(void 0,null,function*(){let B;const ke=ie&&b==="1"?I()(N,"componentToCreate",{}):N;if(A)B=je.contentType.schema(Object.keys(Ce),s==="edit",I()(de,[...Se,"uid"],null),Ue,k,Ce);else if(Z)B=je.component.schema(Object.keys(Ye),N.category||"",Ue,s==="edit",I()(de,[...Se,"uid"],null),k);else if(J&&ie&&fe)B=je.component.schema(Object.keys(Ye),I()(N,"componentToCreate.category",""),Ue,k);else if(L&&!fe){const Le=c==="relation"?"relation":N.type;let W=[];if(Le==="relation"){const le=I()(N,["target"],null);W=I()(Ce,[le,"schema","attributes"],[]).filter(({name:me})=>s!=="edit"?!0:me!==Ee.targetAttribute)}B=je.attribute.schema(I()(de,Se,{}),Le,Ue,W,{modifiedData:N,initialData:Ee},k)}else if(et)B=je.editCategory.schema(U,Ee,k);else if(fe&&ie)B=je.component.schema(Object.keys(Ye),I()(N,"componentToCreate.category",""),Ue,k);else return;yield B.validate(ke,{abortEarly:!1})}),nr=(0,r.useCallback)(B=>{var{target:ke}=B,Le=ke,{name:W,value:le,type:oe}=Le,me=bt(Le,["name","value","type"]);const Ae=["enumName","max","min","maxLength","minLength","regex","default"];let Pe;Ae.includes(W)&&le===""?Pe=null:Pe=le;const Oe=Object.assign({},we);W==="max"&&delete Oe.min,W==="maxLength"&&delete Oe.minLength,delete Oe[W],P({type:te.Ey,errors:Oe}),P(ct({type:te.P0,keys:W.split("."),value:Pe},me))},[P,we]),Me=(B,...ke)=>Fa(void 0,[B,...ke],function*(Le,W=ne){Le.preventDefault();try{yield qi(),ki(W);const le=m==="components"?T:tt;if(A)if(ne)Je(gn(ct({},N),{kind:h}),g,tt),_({pathname:`/plugins/${$.Z}/content-types/${tt}`}),t({forTarget:m,targetUid:le});else{Qo(de,N)?(e(),Mn(N)):O({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(ne){const oe=(0,Ke.N)(N.displayName,N.category),me=N,{category:Ae}=me,Pe=bt(me,["category"]);Je(Pe,"component",oe,Ae),_({pathname:`/plugins/${$.Z}/component-categories/${Ae}/${oe}`}),t({forTarget:m,targetUid:oe})}else{xn(N,g,T),e();return}else if(et){if(Ne()(Ee.name)===Ne()(N.name)){e();return}En(Ee.name,N);return}else if(L&&!ie){if(c==="dynamiczone"){Fe(N,m,T,s==="edit",Ee),ne?(P({type:te.I}),C.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:N.name})):e();return}if(!J){Fe(N,m,T,s==="edit",Ee),W?t({forTarget:m,targetUid:le}):e();return}if(fe){o(),P({type:te.yC,forTarget:m});return}Fe(N,m,T,s==="edit",Ee,!0),W?t({forTarget:m,targetUid:T}):e()}else if(L&&ie){if(fe){q("willCreateComponentFromAttributesModal"),P({type:te.oF,forTarget:m}),o();return}const oe=Qe,{category:me,type:Ae}=oe,Pe=bt(oe,["category","type"]),Oe=(0,Ke.N)(Qe.displayName,me);Je(Pe,Ae,Oe,me,ie),Fe(N,m,T,!1),P({type:te.c2}),W?t({forTarget:"components",targetUid:Oe}):e();return}else{if(fe)if(ie){const oe=N.componentToCreate,{category:me,type:Ae}=oe,Pe=bt(oe,["category","type"]),Oe=(0,Ke.N)(N.componentToCreate.displayName,me);Je(Pe,Ae,Oe,me,ie),ge(p,[Oe]),t({forTarget:"components",targetUid:Oe})}else R(p,N.components),e();else Da.error("This case is not handled");return}P({type:te.c2})}catch(le){const oe=(0,E.getYupInnerErrors)(le);Da.log({err:le,errors:oe}),P({type:te.Ey,errors:oe})}}),ar=()=>{e(),P({type:te.c2})},Bi=B=>{if(B==="advanced"){if(A){q("didSelectContentTypeSettings");return}m==="contentType"&&q("didSelectContentTypeFieldSettings")}},ki=B=>{g==="attribute"&&m==="contentType"&&c!=="dynamiczone"&&B&&q("willAddMoreFieldToContentType")},ji=()=>!!(g==="editCategory"||g==="component"||mt()(N,"createComponent")),_i=es(m,T,Pn);if(!f||!g)return null;const rr=I()(je,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ui=m==="components"||m==="component",or={customInputs:ct({"allowed-types-select":Dt,"boolean-radio-group":Dr,"checkbox-with-number-field":qr,"component-icon-picker":ro,"content-type-radio-group":$r,"radio-group":Ut,relation:Ro,"select-category":Zo,"select-component":Io,"select-components":Fo,"select-default-boolean":Cr,"select-number":Lo,"select-date":wo,"toggle-draft-publish":pr,"text-plural":No,"text-singular":_o,"textarea-enum":Jo},re),componentToCreate:Qe,dynamicZoneTarget:p,formErrors:we,isAddingAComponentToAnotherComponent:Ui,isCreatingComponentWhileAddingAField:dt,mainBoxHeader:I()(de,[...Se,"schema","displayName"],""),modifiedData:N,naturePickerType:m,isCreating:ne,targetUid:T,forTarget:m},sr=rr.advanced({data:N,type:c,step:b,actionType:s,attributes:tr,extensions:k,forTarget:m,contentTypeSchema:de.contentType||{}}).sections,ir=rr.base({data:N,type:c,step:b,actionType:s,attributes:tr,extensions:k,forTarget:m,contentTypeSchema:de.contentType||{}}).sections,Wi=ma(ir),$i=ma(sr),zi=Object.keys(we).some(B=>Wi.includes(B)),Vi=Object.keys(we).some(B=>$i.includes(B)),Gi=I()(Ce,[T,"schema","kind"]);return r.createElement(r.Fragment,null,r.createElement(Be.ModalLayout,{onClose:ar,labelledBy:"title"},r.createElement(gr,{actionType:s,attributeName:l,categoryName:u,contentTypeKind:h,dynamicZoneTarget:p,modalType:g,forTarget:m,targetUid:T,attributeType:c}),We&&r.createElement(Q,{attributes:_i,forTarget:m,kind:Gi||"collectionType"}),!We&&r.createElement("form",{onSubmit:Me},r.createElement(Be.ModalBody,null,r.createElement(Re.TabGroup,{label:"todo",id:"tabs",variant:"simple",ref:C,onTabChange:B=>{B===1&&Bi("advanced")}},r.createElement(ee.Flex,{justifyContent:"space-between"},r.createElement(K.Typography,{as:"h2",variant:"beta"},X({id:ts({actionType:s,forTarget:m,kind:h,step:b,modalType:g}),defaultMessage:"Add new field"},{type:be()(X({id:(0,d.Z)(`attribute.${c}`)})),name:be()(l),step:b})),r.createElement(Re.Tabs,null,r.createElement(Re.Tab,{hasError:zi},X({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Base settings"})),r.createElement(Re.Tab,{hasError:Vi,disabled:ji()},X({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),r.createElement(nt.Divider,null),r.createElement(z.Box,{paddingTop:6},r.createElement(Re.TabPanels,null,r.createElement(Re.TabPanel,null,r.createElement(ue.Stack,{spacing:6},r.createElement(la,{form:ir,formErrors:we,genericInputProps:or,modifiedData:N,onChange:nr}))),r.createElement(Re.TabPanel,null,r.createElement(ue.Stack,{spacing:6},r.createElement(la,{form:sr,formErrors:we,genericInputProps:or,modifiedData:N,onChange:nr}))))))),r.createElement(Be.ModalFooter,{endActions:r.createElement(yr,{deleteCategory:Cn,deleteContentType:vt,deleteComponent:vt,categoryName:Ee.name,isAttributeModal:g==="attribute",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:c==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:N.createComponent||!1,isCreatingComponentInDz:N.createComponent||!1,isCreatingComponentWhileAddingAField:dt,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:c==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:b==="1",onSubmitAddComponentAttribute:Me,onSubmitAddComponentToDz:Me,onSubmitCreateComponent:Me,onSubmitCreateContentType:Me,onSubmitCreateDz:Me,onSubmitEditAttribute:Me,onSubmitEditCategory:Me,onSubmitEditComponent:Me,onSubmitEditContentType:Me,onSubmitEditDz:Me}),startActions:r.createElement(V.Button,{variant:"tertiary",onClick:ar},X({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))}))))},wa=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),ws=(e,t,n,o)=>{const s=t.reduce((u,p)=>{const m=I()(n,p,{});return u[p]=m,u},{});return{[o?"contentType":"component"]:e,components:s}},Ls=(e,t)=>{const n=Object.keys(e).map(o=>(0,S.get)(e,[o,...t],""));return(0,qe.Z)(n)};var qs=i(2445);const Bs=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=(0,S.get)(e,[o,"schema","attributes"],[]),l=ks(s);return[...n,...l]},[]);return(0,qe.Z)(t)},ks=e=>e.reduce((t,n)=>{const{type:o,component:s}=n;return o==="component"&&t.push(s),t},[]),La=Bs,js=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=I()(e,[o],{}),l=s.uid;return _s(s)&&n.push(l),n},[]);return(0,qe.Z)(t)},_s=e=>I()(e,["schema","attributes"],[]).some(n=>{const{type:o}=n;return o==="component"});var qa=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable,$s=(e,t)=>{var n={};for(var o in e)Us.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&qa)for(var o of qa(e))t.indexOf(o)<0&&Ws.call(e,o)&&(n[o]=e[o]);return n};const zs=(e,t)=>{const n=Object.keys(e).filter(o=>{const s=(0,S.get)(e,o,{}),l=(0,S.get)(t,o,{}),c=(0,S.get)(s,["isTemporary"],!1),u=!(0,S.isEqual)(s,l);return c||u});return(0,qe.Z)(n)},Vs=(e,t)=>{const n=ka((0,S.get)(e,"schema.attributes",[]),t),o=(0,S.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},o,{category:e.category},(0,S.omit)(e.schema,"attributes"),{attributes:n})},Ba=(e,t=!1)=>{const n=(0,S.get)(e,"uid",null),o=ka((0,S.get)(e,"schema.attributes",[]),n),s=t?{category:(0,S.get)(e,"category","")}:{},l=Object.assign(s,(0,S.omit)(e.schema,"attributes"),{attributes:o});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},ka=(e,t)=>e.reduce((n,o)=>{var s=o,{name:l}=s,c=$s(s,["name"]);const u=c,p=u.target===t,m=u.type==="relation",g=(0,S.get)(u,"targetAttribute",null);if(!p)if(m){const f=Object.assign({},u,{targetAttribute:ja(g)});n[l]=fn(f)}else n[l]=fn(u);if(p){const f=u.target,h=Object.assign({},u,{target:f,targetAttribute:ja(g)});n[l]=fn(h)}return n},{}),ja=e=>e==="-"?null:e,fn=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Gs=(e,t,n,o=!1)=>zs(e,t).map(c=>{const u=(0,S.get)(e,c,{});return Vs(u,n,o)}),Ks=e=>(0,S.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${$.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,S.camelCase)(t.title)),Hs=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var ae=i(51462),Xs=i(79764);const Ys=()=>e=>e[`${$.Z}_dataManagerProvider`]||Xs.E,Js=()=>(0,Aa.P1)(Ys(),e=>e);var Qs=Object.defineProperty,ei=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,_a=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,Ua=(e,t,n)=>t in e?Qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t)=>{for(var n in t||(t={}))ni.call(t,n)&&Ua(e,n,t[n]);if(_a)for(var n of _a(t))ai.call(t,n)&&Ua(e,n,t[n]);return e},hn=(e,t)=>ei(e,ti(t));const ri=e=>Object.keys(e).reduce((t,n)=>{const o=e[n].schema;return t[n]=hn(yn({},e[n]),{schema:hn(yn({},o),{attributes:oi(o.attributes)})}),t},{}),oi=e=>Object.keys(e).reduce((t,n)=>(t.push(hn(yn({},e[n]),{name:n})),t),[]),Wa=ri;var ut=i(98399),si=Object.defineProperty,$a=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,za=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Va=(e,t)=>{for(var n in t||(t={}))ii.call(t,n)&&za(e,n,t[n]);if($a)for(var n of $a(t))li.call(t,n)&&za(e,n,t[n]);return e},Xe=(e,t,n)=>new Promise((o,s)=>{var l=p=>{try{u(n.next(p))}catch(m){s(m)}},c=p=>{try{u(n.throw(p))}catch(m){s(m)}},u=p=>p.done?o(p.value):Promise.resolve(p.value).then(l,c);u((n=n.apply(e,t)).next())});const bn=({allIcons:e,children:t,components:n,contentTypes:o,isLoading:s,isLoadingForDataToBeSet:l,initialData:c,modifiedData:u,reservedNames:p})=>{const m=(0,De.I0)(),g=(0,E.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:h}=(0,E.useAutoReloadOverlayBlocker)(),{setCurrentStep:b}=(0,E.useGuidedTour)(),{getPlugin:T}=(0,E.useStrapiApp)(),{apis:C}=T($.Z),{autoReload:D}=(0,E.useAppInfos)(),{formatMessage:P}=(0,w.useIntl)(),{trackUsage:O}=(0,E.useTracking)(),{refetchPermissions:F}=(0,E.useRBACProvider)(),{pathname:_}=(0,j.useLocation)(),{onCloseModal:q}=(0,Ve.Z)(),X=(0,j.useRouteMatch)(`/plugins/${$.Z}/content-types/:uid`),x=(0,j.useRouteMatch)(`/plugins/${$.Z}/component-categories/:categoryUid/:componentUid`),Y=(0,r.useRef)();Y.current=P;const k=D,re=X!==null,Fe=re?"contentType":"component",ge=re?(0,S.get)(X,"params.uid",null):(0,S.get)(x,"params.componentUid",null),U=new AbortController,{signal:R}=U,Ce=(0,r.useRef)(),Ye=re?"content-types":"components";Ce.current=()=>Xe(void 0,null,function*(){try{const[{data:A},{data:Z},L]=yield Promise.all(["components","content-types","reserved-names"].map(et=>(0,E.request)(`/${$.Z}/${et}`,{method:"GET",signal:R}))),J=wa(A),ne=Wa(J),ie=wa(Z),fe=Wa(ie);m({type:ae.Id,components:ne,contentTypes:fe,reservedNames:L})}catch(A){ut.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}}),(0,r.useEffect)(()=>{Ce.current()},[]),(0,r.useEffect)(()=>{!s&&ge&&Qe()},[s,_,ge]),(0,r.useEffect)(()=>{D||g({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[D,g]);const Je=(A,Z,L,J=!1,ne,ie=!1)=>{const fe=J?ae.JO:ae.gz;m({type:fe,attributeToSet:A,forTarget:Z,targetUid:L,initialAttribute:ne,shouldAddComponentToData:ie})},Cn=(A,Z)=>{m({type:ae.Uu,dynamicZoneTarget:A,componentsToAdd:Z})},vt=(A,Z,L,J,ne=!1)=>{const ie=Z==="contentType"?ae.Sh:ae.VR;m({type:ie,data:A,componentCategory:J,schemaType:Z,uid:L,shouldAddComponentToData:ne})},En=(A,Z)=>{m({type:ae.o_,dynamicZoneTarget:A,newComponents:Z})},Mn=(A,Z,L="")=>{const J=A==="components"?ae.lw:ae.ai;A==="contentType"&&O("willDeleteFieldOfContentType"),m({type:J,mainDataKey:A,attributeToRemoveName:Z,componentUid:L})},de=A=>Xe(void 0,null,function*(){try{const Z=`/${$.Z}/component-categories/${A}`,L=window.confirm(P({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));q(),L&&(f(),yield(0,E.request)(Z,{method:"DELETE"},!0),yield N(),m({type:ae.Zl}),Ce.current())}catch(Z){ut.error({err:Z}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Pn=()=>Xe(void 0,null,function*(){try{const A=`/${$.Z}/${Ye}/${ge}`,Z=(0,S.get)(u,[Fe,"isTemporary"],!1),L=window.confirm(P({id:(0,d.Z)(`popUpWarning.bodyMessage.${re?"contentType":"component"}.delete`)}));if(q(),L){if(Z){m({type:ae.Ap});return}f(),yield(0,E.request)(A,{method:"DELETE"},!0),m({type:ae.Zl}),yield N(),Ce.current()}}catch(A){ut.error({err:A}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),On=(A,Z)=>Xe(void 0,null,function*(){try{const L=`/${$.Z}/component-categories/${A}`;q(),f(),yield(0,E.request)(L,{method:"PUT",body:Z},!0),yield N(),m({type:ae.Zl}),Ce.current()}catch(L){ut.error({err:L}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),Rn=()=>{const A=Object.assign({},n,u.components);if(!re){const L=(0,S.get)(u,"component",{});(0,S.set)(A,(0,S.get)(L,["uid"],""),L)}const Z=js(A);return(0,qe.Z)(Z)},xn=()=>{const A=La(n),Z=La(u.components||{});return(0,qe.Z)([...Z,...A])},Ue=(A,Z)=>{m({type:ae.NG,dzName:A,componentToRemoveIndex:Z})},Qe=()=>{const A=re?o:n,Z=(0,S.get)(A,ge,{schema:{attributes:[]}}),L=(0,qs.Z)(Z.schema.attributes,n),J=ws(Z,L,n,re),ne=(0,S.get)(Z,"isTemporary",!1)&&(0,S.size)((0,S.get)(Z,"schema.attributes",[]))===0;m({type:ae.xx,schemaToSet:J,hasJustCreatedSchema:ne})},we=(0,r.useMemo)(()=>{const A=re?o:n;return ge==="create-content-type"?!1:!Object.keys(A).includes(ge)&&!s},[n,o,ge,re,s]),Ee=(0,r.useMemo)(()=>{const A=Object.keys(o).filter(Z=>(0,S.get)(o,[Z,"schema","visible"],!0)).sort();return(0,S.get)(A,"0","create-content-type")},[o]);if(we)return r.createElement(j.Redirect,{to:`/plugins/${$.Z}/content-types/${Ee}`});const dt=A=>Xe(void 0,null,function*(){var Z,L;try{const J=(0,S.get)(u,[Fe,"isTemporary"],!1),ne={components:Gs(u.components,n,ge,J)};if(re){const We=C.forms.mutateContentTypeSchema(Va(Va({},Ba(u.contentType)),A),c.contentType);if(!Hs(We)){g({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}ne.contentType=We,O("willSaveContentType")}else ne.component=Ba(u.component,!0),O("willSaveComponent");const ie=J?"POST":"PUT",fe=`/${$.Z}/${Ye}`,et=J?fe:`${fe}/${ge}`;if(f(),yield(0,E.request)(et,{method:ie,body:ne},!0),h(),J&&(((Z=c.contentType)==null?void 0:Z.schema.kind)==="collectionType"||((L=c.contentType)==null?void 0:L.schema.kind)==="singleType")&&b("contentTypeBuilder.success"),yield N(),re){O("didSaveContentType");const We=(0,S.get)(ne,["contentType","schema","name"],""),tt=(0,S.get)(c,["contentType","schema","name"],"");!J&&We!==tt&&O("didEditNameOfContentType")}else O("didSaveComponent");m({type:ae.Zl}),Ce.current()}catch(J){re||O("didNotSaveComponent"),ut.error({err:J.response}),g({type:"warning",message:{id:"notification.error"}})}finally{h()}}),N=()=>Xe(void 0,null,function*(){yield F()}),Se=(A,Z,L)=>{m({type:ae.bi,data:A,schemaType:Z,uid:L})};return r.createElement(Mt.Z.Provider,{value:{addAttribute:Je,addCreatedComponentToDynamicZone:Cn,allComponentsCategories:Ls(n,["category"]),allIcons:e,changeDynamicZoneComponents:En,components:n,componentsGroupedByCategory:(0,S.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:Rn(),contentTypes:o,createSchema:vt,deleteCategory:de,deleteData:Pn,editCategory:On,isInDevelopmentMode:k,initialData:c,isInContentTypeView:re,modifiedData:u,nestedComponents:xn(),removeAttribute:Mn,removeComponentFromDynamicZone:Ue,reservedNames:p,setModifiedData:Qe,sortedContentTypesList:Ks(o),submitData:dt,updateSchema:Se}},r.createElement(r.Fragment,null,l?r.createElement(E.LoadingIndicatorPage,null):r.createElement(r.Fragment,null,t,k&&r.createElement(Fs,null))))};bn.defaultProps={components:{}},bn.propTypes={allIcons:a().array.isRequired,children:a().node.isRequired,components:a().object,contentTypes:a().object.isRequired,isLoading:a().bool.isRequired,isLoadingForDataToBeSet:a().bool.isRequired,initialData:a().object.isRequired,modifiedData:a().object.isRequired,reservedNames:a().object.isRequired};const ci=Js(),ui=(0,De.$j)(ci,null),di=(0,Et.compose)(ui)((0,r.memo)(bn));var mi=i(73938);const Ga={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null};var pi=Object.defineProperty,gi=Object.defineProperties,fi=Object.getOwnPropertyDescriptors,Ka=Object.getOwnPropertySymbols,yi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,Ha=(e,t,n)=>t in e?pi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ye=(e,t)=>{for(var n in t||(t={}))yi.call(t,n)&&Ha(e,n,t[n]);if(Ka)for(var n of Ka(t))hi.call(t,n)&&Ha(e,n,t[n]);return e},Te=(e,t)=>gi(e,fi(t));const Xa=({children:e})=>{const[t,n]=(0,r.useState)(Ga),{trackUsage:o}=(0,E.useTracking)(),s=({attributeType:C,step:D})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:C}),n(P=>Te(ye({},P),{actionType:"create",modalType:"attribute",step:D,attributeType:C}))},l=({dynamicZoneTarget:C,targetUid:D})=>{n(P=>Te(ye({},P),{dynamicZoneTarget:C,targetUid:D,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:C,targetUid:D})=>{n(P=>Te(ye({},P),{actionType:"create",forTarget:C,targetUid:D,modalType:"chooseAttribute",isOpen:!0}))},u=C=>{n(D=>Te(ye(ye({},D),C),{isOpen:!0}))},p=C=>{n(D=>Te(ye({},D),{categoryName:C,actionType:"edit",modalType:"editCategory",isOpen:!0}))},m=({forTarget:C,targetUid:D,attributeName:P,attributeType:O,step:F})=>{n(_=>Te(ye({},_),{modalType:"attribute",actionType:"edit",forTarget:C,targetUid:D,attributeName:P,attributeType:O,step:F,isOpen:!0}))},g=({modalType:C,forTarget:D,targetUid:P,kind:O})=>{n(F=>Te(ye({},F),{modalType:C,actionType:"edit",forTarget:D,targetUid:P,kind:O,isOpen:!0}))},f=()=>{n(Ga)},h=({forTarget:C,targetUid:D})=>{n(P=>Te(ye({},P),{forTarget:C,targetUid:D,modalType:"chooseAttribute"}))},b=()=>{n(C=>Te(ye({},C),{attributeType:"component",modalType:"attribute",step:"2"}))},T=({dynamicZoneTarget:C})=>{n(D=>Te(ye({},D),{dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return r.createElement(mi.Z.Provider,{value:Te(ye({},t),{onClickSelectField:s,onCloseModal:f,onNavigateToChooseAttributeModal:h,onNavigateToAddCompoToDZModal:T,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:b,onOpenModalAddField:c,onOpenModalCreateSchema:u,onOpenModalEditCategory:p,onOpenModalEditField:m,onOpenModalEditSchema:g,setFormModalNavigationState:n})},e)};Xa.propTypes={children:a().node.isRequired};const bi=Xa,vi=(0,r.lazy)(()=>i.e(7589).then(i.bind(i,17589))),Ti=()=>{const{url:e}=(0,j.useRouteMatch)(),{categoryUid:t}=(0,j.useParams)();return r.createElement(r.Suspense,{fallback:r.createElement(E.LoadingIndicatorPage,null)},r.createElement(j.Switch,null,r.createElement(j.Route,{path:`${e}/:componentUid`},r.createElement(vi,{categoryId:t}))))},Ci=JSON.parse('["ad","address-book","address-card","adjust","air-freshener","align-center","align-justify","align-left","align-right","allergies","ambulance","american-sign-language-interpreting","anchor","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","angry","ankh","apple-alt","archive","archway","arrow-alt-circle-down","arrow-alt-circle-left","arrow-alt-circle-right","arrow-alt-circle-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows-alt","arrows-alt-h","arrows-alt-v","assistive-listening-systems","asterisk","at","atlas","atom","audio-description","award","baby","baby-carriage","backspace","backward","bacon","balance-scale","balance-scale-left","balance-scale-right","ban","band-aid","barcode","bars","baseball-ball","basketball-ball","bath","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","bell","bell-slash","bezier-curve","bible","bicycle","biking","binoculars","biohazard","birthday-cake","blender","blender-phone","blind","blog","bold","bolt","bomb","bone","bong","book","book-dead","book-medical","book-open","book-reader","bookmark","border-all","border-none","border-style","bowling-ball","box","box-open","boxes","braille","brain","bread-slice","briefcase","briefcase-medical","broadcast-tower","broom","brush","bug","building","bullhorn","bullseye","burn","bus","bus-alt","business-time","calculator","calendar","calendar-alt","calendar-check","calendar-day","calendar-minus","calendar-plus","calendar-times","calendar-week","camera","camera-retro","campground","candy-cane","cannabis","capsules","car","car-alt","car-battery","car-crash","car-side","caret-down","caret-left","caret-right","caret-square-down","caret-square-left","caret-square-right","caret-square-up","caret-up","carrot","cart-arrow-down","cart-plus","cash-register","cat","certificate","chair","chalkboard","chalkboard-teacher","charging-station","chart-area","chart-bar","chart-line","chart-pie","check","check-circle","check-double","check-square","cheese","chess","chess-bishop","chess-board","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","church","circle","circle-notch","city","clinic-medical","clipboard","clipboard-check","clipboard-list","clock","clone","closed-captioning","cloud","cloud-download-alt","cloud-meatball","cloud-moon","cloud-moon-rain","cloud-rain","cloud-showers-heavy","cloud-sun","cloud-sun-rain","cloud-upload-alt","cocktail","code","code-branch","coffee","cog","cogs","coins","columns","comment","comment-alt","comment-dollar","comment-dots","comment-medical","comment-slash","comments","comments-dollar","compact-disc","compass","compress","compress-arrows-alt","concierge-bell","cookie","cookie-bite","copy","copyright","couch","credit-card","crop","crop-alt","cross","crosshairs","crow","crown","crutch","cube","cubes","cut","database","deaf","democrat","desktop","dharmachakra","diagnoses","dice","dice-d20","dice-d6","dice-five","dice-four","dice-one","dice-six","dice-three","dice-two","digital-tachograph","directions","divide","dizzy","dna","dog","dollar-sign","dolly","dolly-flatbed","donate","door-closed","door-open","dot-circle","dove","download","drafting-compass","dragon","draw-polygon","drum","drum-steelpan","drumstick-bite","dumbbell","dumpster","dumpster-fire","dungeon","edit","egg","eject","ellipsis-h","ellipsis-v","envelope","envelope-open","envelope-open-text","envelope-square","equals","eraser","ethernet","euro-sign","exchange-alt","exclamation","exclamation-circle","exclamation-triangle","expand","expand-arrows-alt","external-link-alt","external-link-square-alt","eye","eye-dropper","eye-slash","fan","fast-backward","fast-forward","fax","feather","feather-alt","female","fighter-jet","file","file-alt","file-archive","file-audio","file-code","file-contract","file-csv","file-download","file-excel","file-export","file-image","file-import","file-invoice","file-invoice-dollar","file-medical","file-medical-alt","file-pdf","file-powerpoint","file-prescription","file-signature","file-upload","file-video","file-word","fill","fill-drip","film","filter","fingerprint","fire","fire-alt","fire-extinguisher","first-aid","fish","fist-raised","flag","flag-checkered","flag-usa","flask","flushed","folder","folder-minus","folder-open","folder-plus","font","football-ball","forward","frog","frown","frown-open","funnel-dollar","futbol","gamepad","gas-pump","gavel","gem","genderless","ghost","gift","gifts","glass-cheers","glass-martini","glass-martini-alt","glass-whiskey","glasses","globe","globe-africa","globe-americas","globe-asia","globe-europe","golf-ball","gopuram","graduation-cap","greater-than","greater-than-equal","grimace","grin","grin-alt","grin-beam","grin-beam-sweat","grin-hearts","grin-squint","grin-squint-tears","grin-stars","grin-tears","grin-tongue","grin-tongue-squint","grin-tongue-wink","grin-wink","grip-horizontal","grip-lines","grip-lines-vertical","grip-vertical","guitar","h-square","hamburger","hammer","hamsa","hand-holding","hand-holding-heart","hand-holding-usd","hand-lizard","hand-middle-finger","hand-paper","hand-peace","hand-point-down","hand-point-left","hand-point-right","hand-point-up","hand-pointer","hand-rock","hand-scissors","hand-spock","hands","hands-helping","handshake","hanukiah","hard-hat","hashtag","hat-cowboy","hat-cowboy-side","hat-wizard","haykal","hdd","heading","headphones","headphones-alt","headset","heart","heart-broken","heartbeat","helicopter","highlighter","hiking","hippo","history","hockey-puck","holly-berry","home","horse","horse-head","hospital","hospital-alt","hospital-symbol","hot-tub","hotdog","hotel","hourglass","hourglass-end","hourglass-half","hourglass-start","house-damage","hryvnia","i-cursor","ice-cream","icicles","icons","id-badge","id-card","id-card-alt","igloo","image","images","inbox","indent","industry","infinity","info","info-circle","italic","jedi","joint","journal-whills","kaaba","key","keyboard","khanda","kiss","kiss-beam","kiss-wink-heart","kiwi-bird","landmark","language","laptop","laptop-code","laptop-medical","laugh","laugh-beam","laugh-squint","laugh-wink","layer-group","leaf","lemon","less-than","less-than-equal","level-down-alt","level-up-alt","life-ring","lightbulb","link","lira-sign","list","list-alt","list-ol","list-ul","location-arrow","lock","lock-open","long-arrow-alt-down","long-arrow-alt-left","long-arrow-alt-right","long-arrow-alt-up","low-vision","luggage-cart","magic","magnet","mail-bulk","male","map","map-marked","map-marked-alt","map-marker","map-marker-alt","map-pin","map-signs","marker","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mask","medal","medkit","meh","meh-blank","meh-rolling-eyes","memory","menorah","mercury","meteor","microchip","microphone","microphone-alt","microphone-alt-slash","microphone-slash","microscope","minus","minus-circle","minus-square","mitten","mobile","mobile-alt","money-bill","money-bill-alt","money-bill-wave","money-bill-wave-alt","money-check","money-check-alt","monument","moon","mortar-pestle","mosque","motorcycle","mountain","mouse","mouse-pointer","mug-hot","music","network-wired","neuter","newspaper","not-equal","notes-medical","object-group","object-ungroup","oil-can","om","otter","outdent","pager","paint-brush","paint-roller","palette","pallet","paper-plane","paperclip","parachute-box","paragraph","parking","passport","pastafarianism","paste","pause","pause-circle","paw","peace","pen","pen-alt","pen-fancy","pen-nib","pen-square","pencil-alt","pencil-ruler","people-carry","pepper-hot","percent","percentage","person-booth","phone","phone-alt","phone-slash","phone-square","phone-square-alt","phone-volume","photo-video","piggy-bank","pills","pizza-slice","place-of-worship","plane","plane-arrival","plane-departure","play","play-circle","plug","plus","plus-circle","plus-square","podcast","poll","poll-h","poo","poo-storm","poop","portrait","pound-sign","power-off","pray","praying-hands","prescription","prescription-bottle","prescription-bottle-alt","print","procedures","project-diagram","puzzle-piece","qrcode","question","question-circle","quidditch","quote-left","quote-right","quran","radiation","radiation-alt","rainbow","random","receipt","record-vinyl","recycle","redo","redo-alt","registered","remove-format","reply","reply-all","republican","restroom","retweet","ribbon","ring","road","robot","rocket","route","rss","rss-square","ruble-sign","ruler","ruler-combined","ruler-horizontal","ruler-vertical","running","rupee-sign","sad-cry","sad-tear","satellite","satellite-dish","save","school","screwdriver","scroll","sd-card","search","search-dollar","search-location","search-minus","search-plus","seedling","server","shapes","share","share-alt","share-alt-square","share-square","shekel-sign","shield-alt","ship","shipping-fast","shoe-prints","shopping-bag","shopping-basket","shopping-cart","shower","shuttle-van","sign","sign-in-alt","sign-language","sign-out-alt","signal","signature","sim-card","sitemap","skating","skiing","skiing-nordic","skull","skull-crossbones","slash","sleigh","sliders-h","smile","smile-beam","smile-wink","smog","smoking","smoking-ban","sms","snowboarding","snowflake","snowman","snowplow","socks","solar-panel","sort","sort-alpha-down","sort-alpha-down-alt","sort-alpha-up","sort-alpha-up-alt","sort-amount-down","sort-amount-down-alt","sort-amount-up","sort-amount-up-alt","sort-down","sort-numeric-down","sort-numeric-down-alt","sort-numeric-up","sort-numeric-up-alt","sort-up","spa","space-shuttle","spell-check","spider","spinner","splotch","spray-can","square","square-full","square-root-alt","stamp","star","star-and-crescent","star-half","star-half-alt","star-of-david","star-of-life","step-backward","step-forward","stethoscope","sticky-note","stop","stop-circle","stopwatch","store","store-alt","stream","street-view","strikethrough","stroopwafel","subscript","subway","suitcase","suitcase-rolling","sun","superscript","surprise","swatchbook","swimmer","swimming-pool","synagogue","sync","sync-alt","syringe","table","table-tennis","tablet","tablet-alt","tablets","tachometer-alt","tag","tags","tape","tasks","taxi","teeth","teeth-open","temperature-high","temperature-low","tenge","terminal","text-height","text-width","th","th-large","th-list","theater-masks","thermometer","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","thumbs-down","thumbs-up","thumbtack","ticket-alt","times","times-circle","tint","tint-slash","tired","toggle-off","toggle-on","toilet","toilet-paper","toolbox","tools","tooth","torah","torii-gate","tractor","trademark","traffic-light","train","tram","transgender","transgender-alt","trash","trash-alt","trash-restore","trash-restore-alt","tree","trophy","truck","truck-loading","truck-monster","truck-moving","truck-pickup","tshirt","tty","tv","umbrella","umbrella-beach","underline","undo","undo-alt","universal-access","university","unlink","unlock","unlock-alt","upload","user","user-alt","user-alt-slash","user-astronaut","user-check","user-circle","user-clock","user-cog","user-edit","user-friends","user-graduate","user-injured","user-lock","user-md","user-minus","user-ninja","user-nurse","user-plus","user-secret","user-shield","user-slash","user-tag","user-tie","user-times","users","users-cog","utensil-spoon","utensils","vector-square","venus","venus-double","venus-mars","vial","vials","video","video-slash","vihara","voicemail","volleyball-ball","volume-down","volume-mute","volume-off","volume-up","vote-yea","vr-cardboard","walking","wallet","warehouse","water","wave-square","weight","weight-hanging","wheelchair","wifi","wind","window-close","window-maximize","window-minimize","window-restore","wine-bottle","wine-glass","wine-glass-alt","won-sign","wrench","x-ray","yen-sign","yin-yang"]');var _e=i(89420),Ei=i(74201),Mi=i(86834),Pi=i.n(Mi),Oi=i(98978),Ya=i.n(Oi),Ri=i(89793),xi=i.n(Ri),Si=i(58469),Ai=Object.defineProperty,Di=Object.defineProperties,Ni=Object.getOwnPropertyDescriptors,Ja=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,Ii=Object.prototype.propertyIsEnumerable,Qa=(e,t,n)=>t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vn=(e,t)=>{for(var n in t||(t={}))Zi.call(t,n)&&Qa(e,n,t[n]);if(Ja)for(var n of Ja(t))Ii.call(t,n)&&Qa(e,n,t[n]);return e},Tn=(e,t)=>Di(e,Ni(t));const Fi=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:o,sortedContentTypesList:s,modifiedData:l,initialData:c}=(0,ve.Z)(),u=(0,E.useNotification)(),{trackUsage:p}=(0,E.useTracking)(),[m,g]=(0,r.useState)(""),{onOpenModalCreateSchema:f,onOpenModalEditCategory:h}=(0,Ve.Z)(),b=Ya()(Object.keys(t).map(x=>({name:x,title:x,isEditable:o,onClickEdit:(Y,k)=>{Y.stopPropagation(),T?h(k.name):O()},links:Ya()(t[x].map(Y=>({name:Y.uid,to:`/plugins/${$.Z}/component-categories/${x}/${Y.uid}`,title:Y.schema.displayName})),Y=>Y.title)})),x=>x.title),T=!Object.keys(n).some(x=>n[x].isTemporary===!0)&&!Object.keys(e).some(x=>e[x].isTemporary===!0)&&xi()(l,c),C=()=>{T?(p("willCreateContentType"),f({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):O()},D=()=>{T?(p("willCreateSingleType"),f({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):O()},P=()=>{T?(p("willCreateComponent"),f({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):O()},O=()=>{u({type:"info",message:{id:`${(0,d.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},F=s.filter(x=>x.visible),_=[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:o&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:C},links:F.filter(x=>x.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:o&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:D},links:F.filter(x=>x.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:o&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:P},links:b}],q=x=>(0,Si.ZP)(x,Ne()(m),{keys:[Y=>Ne()(Y.title)]});return{menu:(()=>_.map(x=>x.links.some(k=>!Pi()(k.links))?Tn(vn({},x),{links:x.links.map(k=>Tn(vn({},k),{links:q(k.links)}))}):Tn(vn({},x),{links:q(x.links)})))(),searchValue:m,onSearchChange:g}},wi=()=>{const{menu:e,searchValue:t,onSearchChange:n}=Fi(),{formatMessage:o}=(0,w.useIntl)();return r.createElement(_e.SubNav,{ariaLabel:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},r.createElement(_e.SubNavHeader,{searchable:!0,value:t,onClear:()=>n(""),onChange:s=>n(s.target.value),label:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:"Search..."}),r.createElement(_e.SubNavSections,null,e.map(s=>{const l=s.title.id;return r.createElement(r.Fragment,{key:s.name},r.createElement(_e.SubNavSection,{label:o({id:l,defaultMessage:l}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(c=>c.links?r.createElement(_e.SubNavLinkSection,{key:c.name,label:be()(c.title)},c.links.map(u=>r.createElement(_e.SubNavLink,{as:j.NavLink,to:u.to,active:u.active,key:u.name},be()(o({id:u.name,defaultMessage:u.title}))))):r.createElement(_e.SubNavLink,{as:j.NavLink,to:c.to,active:c.active,key:c.name},be()(o({id:c.name,defaultMessage:c.title}))))),s.customLink&&r.createElement(z.Box,{paddingLeft:7},r.createElement(Ei.TextButton,{onClick:s.customLink.onClick,startIcon:r.createElement(it(),null)},o({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage}))))})))},er=(0,r.lazy)(()=>i.e(7589).then(i.bind(i,17589))),Li=()=>{const{formatMessage:e}=(0,w.useIntl)(),t=e({id:`${$.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,E.useGuidedTour)(),o=(0,r.useRef)(n);return(0,r.useEffect)(()=>{o.current&&o.current("contentTypeBuilder")},[]),r.createElement(E.CheckPagePermissions,{permissions:Tt.Z.main},r.createElement(he.Helmet,{title:t}),r.createElement(bi,null,r.createElement(di,{allIcons:Ci},r.createElement(Sn.Layout,{sideNav:r.createElement(wi,null)},r.createElement(r.Suspense,{fallback:r.createElement(E.LoadingIndicatorPage,null)},r.createElement(j.Switch,null,r.createElement(j.Route,{path:`/plugins/${$.Z}/content-types/create-content-type`,component:er}),r.createElement(j.Route,{path:`/plugins/${$.Z}/content-types/:uid`,component:er}),r.createElement(j.Route,{path:`/plugins/${$.Z}/component-categories/:categoryUid`,component:Ti})))))))}},97123:($e,ce,i)=>{i.d(ce,{Z:()=>he});var r=i(45851);const he=w=>`${r.Z}.${w}`}}]);
