!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-query")):"function"==typeof define&&define.amd?define(["exports","react-query"],t):t((e=e||self).ReactQueryPersistQueryClientExperimental={},e.ReactQuery)}(this,(function(e,t){"use strict";function r(){}var n=console||{error:r,warn:r,log:r};function i(){return n}function o(){}var u,a=(u=function(e){var r=e.queryClient,n=e.persistor,u=e.maxAge,a=void 0===u?864e5:u,c=e.buster,s=void 0===c?"":c,f=e.hydrateOptions,d=e.dehydrateOptions;return function(e){var t=e();if(t&&t.then)return t.then(o)}((function(){if("undefined"!=typeof window){var e=function(){var e={buster:s,timestamp:Date.now(),clientState:t.dehydrate(r,d)};n.persistClient(e)};return function(e,t){return e&&e.then?e.then(t):t(e)}(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return e=n.restoreClient(),i=function(e){if(e)if(e.timestamp){var i=Date.now()-e.timestamp>a,o=e.buster!==s;i||o?n.removeClient():t.hydrate(r,e.clientState,f)}else n.removeClient()},o?i?i(e):e:(e&&e.then||(e=Promise.resolve(e)),i?e.then(i):e);var e,i,o}),(function(e){i().error(e),i().warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded."),n.removeClient()})),(function(){r.getQueryCache().subscribe(e)}))}}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(u.apply(this,e))}catch(e){return Promise.reject(e)}});e.persistQueryClient=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=persistQueryClient-experimental.production.min.js.map
